###############################################################################
#                                                                             #
# IAR ANSI C/C++ Compiler V6.50.6.4896/W32 for ARM      19/Nov/2015  15:23:45 #
# Copyright 1999-2013 IAR Systems AB.                                         #
#                                                                             #
#    Cpu mode     =  thumb                                                    #
#    Endian       =  little                                                   #
#    Source file  =  E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\src\hal\s2w_cfg.c                             #
#    Command line =  E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\src\hal\s2w_cfg.c -D                          #
#                    TX_ENABLE_IAR_LIBRARY_SUPPORT -D IAR -D FIXED_ROM_BUILD  #
#                    -D RUN_ALL_FROM_FLASH -D TM_USE_HTTPD -D S2W_DNS_CLIENT  #
#                    -D NX_INCLUDE_USER_DEFINE_FILE -D S2W_WEB_FS_AVAILABLE   #
#                    -D S2W_EXTFLASH_DRIVER_TEST -D S2W_PWM_SUPPORT -D        #
#                    S2W_MEM_ACCESS -D S2W_FORCE_UART_PORT -D                 #
#                    S2W_EXT_FLASH_FWUP_PUSH_METHOD -D                        #
#                    S2W_NCM_SUPPORT_ENABLE -D S2W_SECURITY_ENTERPRISE_PEAP_V #
#                    0_AVAILABLE -D S2W_EXT_FLASH_FWUP_PULL_METHOD -D         #
#                    S2W_SECURITY_ENTERPRISE_TLS_AVAILABLE -D                 #
#                    S2W_DNS_SERVER_ENABLE -D ADK_OTAFU -D S2W_GSLINK_RAW -D  #
#                    S2W_GSLINK_XML -D S2W_SECURITY_ENTERPRISE_PEAP_V1_AVAILA #
#                    BLE -D S2W_PING_TRACE -D S2W_RF_TEST -D                  #
#                    S2W_SSL_CLIENT_SUPPORT -D S2W_DEFAULT_UART_PARITY=0 -D   #
#                    S2W_DHCP_SERVER_ENABLE -D S2W_SECURITY_WPS_ENABLE -D     #
#                    ADK_PROV_CONFIG_LIMITED_AP -D S2W_WEB_SERVER -D          #
#                    ADK_PROV -D S2W_DEFAULT_UART_SW_FLOW=0 -D                #
#                    S2W_FILE_UPLOAD_API -D S2W_COAP_SUPPORT -D               #
#                    S2W_HTTPD_SSLCERT_UPLOAD -D                              #
#                    S2W_DEFAULT_UART_STOP_BITS=0 -D S2W_FACT_IMAGE_REQ -D    #
#                    S2W_DEFAULT_UART_BAUD=9600 -D S2W_ASYNC_MSG -D           #
#                    S2W_HTTPS_SUPPORT -D S2W_DEFAULT_UART_HW_FLOW=0 -D       #
#                    S2W_SECURITY_ENTERPRISE_FAST_GTC_AVAILABLE -D            #
#                    S2W_WEB_PROV -D S2W_UNASSOC_TXRX_SUPPORT -D S2W_SNTP -D  #
#                    S2W_UART_ENABLE -D S2W_GSLINK_XMLNESTED_PARSER -D        #
#                    S2W_GSLINK -D S2W_SECURITY_ENTERPRISE_TTLS_AVAILABLE -D  #
#                    S2W_ADC_SUPPORT -D S2W_HTTPC_SUPPORT -D                  #
#                    S2W_SECURITY_ENTERPRISE_FAST_MSCHAPV2_AVAILABLE -D       #
#                    S2W_SSL_SERVER_SUPPORT -D ADK_PROV_CONFIG_CLIENT -D      #
#                    S2W_DEFAULT_UART_BITS_PER_CHAR=3 -D S2W_MDNS_ENABLE -lC  #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\Debug\List\ -lA                         #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\Debug\List\ --diag_suppress             #
#                    Pa050,Pe231,Pe177 -o E:\Gainspan\gs2011mxx_SDK_s2w_tls_t #
#                    lslp_5.1.5_GA\userapps_mqtt\s2w\build\Debug\Obj\         #
#                    --debug --endian=little --cpu=Cortex-M3 -e --fpu=None    #
#                    --dlib_config "C:\Program Files (x86)\IAR                #
#                    Systems\Embedded Workbench 6.5\arm\INC\c\DLib_Config_Ful #
#                    l.h" -I E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA #
#                    \userapps_mqtt\s2w\build\..\..\..\geps\inc\ -I           #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\..\..\geps\inc\core\ -I              #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\..\..\geps\inc\drivers\ -I           #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\..\..\geps\inc\modules\ -I           #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\..\..\geps\inc\rtos\ -I              #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\..\..\geps\inc\netx\ -I              #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\..\..\geps\inc\netx\netx_bsd_layer\  #
#                    -I E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\user #
#                    apps_mqtt\s2w\build\..\..\..\geps\inc\main\ -I           #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\..\..\geps\inc\fs\ -I                #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\..\..\geps\inc\fs\hcc\src\ -I        #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\..\..\geps\inc\security\src\ -I      #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\..\..\geps\inc\security\hw_engine_if #
#                    \ -I E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\us #
#                    erapps_mqtt\s2w\build\..\..\..\geps\inc\security\wpa_if\ #
#                     -I E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\use #
#                    rapps_mqtt\s2w\build\..\..\..\userlib\ncm\inc\ -I        #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\..\..\userlib\ -I                    #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\inc\ctx\ -I                          #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\inc\ -I                              #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\inc\main\ -I                         #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\inc\hal\ -I                          #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\inc\parser\ -I                       #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\inc\config\ -I                       #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\src\ -I                              #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\..\..\adk\otafu\inc\ -I              #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\..\..\adk\provisioning\inc\ -I       #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\inc\mqtt\ -I                         #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\src\mqtt\ -I                         #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\inc\one_wire\ -I                     #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\src\one_wire\ -I                     #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\inc\linked_list\ -I                  #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\src\linked_list\ -I                  #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\inc\mqtt_main\ -I                    #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\src\mqtt_main\ -I                    #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\inc\mqtt_log\ -I                     #
#                    E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\..\src\mqtt_log\ -Ohz --use_c++_inline  #
#                    -I "C:\Program Files (x86)\IAR Systems\Embedded          #
#                    Workbench 6.5\arm\CMSIS\Include\"                        #
#    List file    =  E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\Debug\List\s2w_cfg.lst                  #
#    Object file  =  E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapp #
#                    s_mqtt\s2w\build\Debug\Obj\s2w_cfg.o                     #
#                                                                             #
#                                                                             #
###############################################################################

E:\Gainspan\gs2011mxx_SDK_s2w_tls_tlslp_5.1.5_GA\userapps_mqtt\s2w\src\hal\s2w_cfg.c
      1          /******************************************************************************
      2           *
      3           *               COPYRIGHT (c) 2012-2013 GainSpan Corporation
      4           *                         All Rights Reserved
      5           *
      6           * The source code contained or described herein and all documents
      7           * related to the source code ("Material") are owned by Gainspan
      8           * Corporation or its licensors.  Title to the Material remains
      9           * with Gainspan Corporation or its suppliers and licensors.
     10           *
     11           * The Material is protected by worldwide copyright and trade secret
     12           * laws and treaty provisions. No part of the Material may be used,
     13           * copied, reproduced, modified, published, uploaded, posted, transmitted,
     14           * distributed, or disclosed in any way except in accordance with the
     15           * applicable license agreement.
     16           *
     17           * No license under any patent, copyright, trade secret or other
     18           * intellectual property right is granted to or conferred upon you by
     19           * disclosure or delivery of the Materials, either expressly, by
     20           * implication, inducement, estoppel, except in accordance with the
     21           * applicable license agreement.
     22           *
     23           * Unless otherwise agreed by Gainspan in writing, you may not remove or
     24           * alter this notice or any other notice embedded in Materials by Gainspan
     25           * or Gainspan's suppliers or licensors in any way.
     26           *
     27           * $RCSfile: s2w_cfg.c,v $
     28           *
     29           * Description:
     30           *      This file contains public functions definitions for s2w_cfg
     31           * 
     32           ******************************************************************************
     33           */
     34          
     35          
     36          
     37          #include "gsn_includes.h"

   \                                 In section .text, align 2
   \   __intrinsic __nounwind __interwork __softfp void *memcpy(void *, void const *, size_t)
   \                     memcpy:
   \   00000000   0xB510             PUSH     {R4,LR}
   \   00000002   0x4604             MOV      R4,R0
   \   00000004   0x.... 0x....      BL       __aeabi_memcpy
   \   00000008   0x4620             MOV      R0,R4
   \   0000000A   0xBD10             POP      {R4,PC}          ;; return
     38          #include "main/app_main_ctx.h"
     39          #include "hal/s2w_types.h"
     40          
     41          #include "fs/api/api_safe.h"
     42          #include "fs/safe-flash/nor/phy/micron/n25q_32mb_3v_65nm.h"
     43          #include "fs/safe-flash/nor/flashdrv.h"
     44          #include "hal/s2w_config.h"
     45          
     46          

   \                                 In section .bss, align 4
     47          S2W_PROFILE_PARAMS_T profile_params;
   \                     profile_params:
   \   00000000                      DS8 8
     48          
     49          typedef enum f_error_codes
     50          {
     51            FILE_OPEN_ER=1,
     52            FILE_WRITE_ER,
     53            FILE_READ_ER
     54            
     55          }f_error_codes_t;
     56          
     57          
     58          UINT8 S2w_SaveS2wProfileParams(S2W_PROFILE_PARAMS_T *defaultProfile);
     59          
     60          extern S2W_FLASH_PARAMS_T FlashParams;
     61          

   \                                 In section .text, align 2, keep-with-next
     62          UINT8 S2w_SaveS2wProfile(S2W_FLASH_PARAMS_T *s2wProfile, UINT8 index)
     63          {
   \                     S2w_SaveS2wProfile:
   \   00000000   0xE92D 0x47F0      PUSH     {R4-R10,LR}
   \   00000004   0x4681             MOV      R9,R0
     64              F_FILE *fp, *fpExt;
     65          
     66              if(index == 0)
   \   00000006   0x000D             MOVS     R5,R1
   \   00000008   0x....             ADR.N    R6,??DataTable16  ;; "w"
   \   0000000A   0x....             ADR.N    R7,??DataTable17  ;; 0x72, 0x2B, 0x00, 0x00
   \   0000000C   0xD10D             BNE.N    ??S2w_SaveS2wProfile_0
     67              {
     68                  fp = f_open("A:/s2w_profile0.conf","r+");
   \   0000000E   0x.... 0x....      ADR.W    R4,`?<Constant "A:/s2w_profile0.conf">`
   \   00000012   0x.... 0x....      BL       ?Subroutine4
   \                     ??CrossCallReturnLabel_4:
   \   00000016   0xEA5F 0x0800      MOVS     R8,R0
     69                  if(!fp)
   \   0000001A   0xD103             BNE.N    ??S2w_SaveS2wProfile_1
     70                      fp = f_open("A:/s2w_profile0.conf","w");
   \   0000001C   0x4631             MOV      R1,R6
   \   0000001E   0x.... 0x....      BL       ??Subroutine4_0
   \                     ??CrossCallReturnLabel_2:
   \   00000022   0x4680             MOV      R8,R0
     71                      
     72                  fpExt = f_open("A:/s2w_profile0_ext.conf", "r+"); 
   \                     ??S2w_SaveS2wProfile_1:
   \   00000024   0x.... 0x....      ADR.W    R10,`?<Constant "A:/s2w_profile0_ext.conf">`
   \   00000028   0xE00E             B.N      ??S2w_SaveS2wProfile_2
     73                  if(!fpExt)
     74                      fpExt = f_open("A:/s2w_profile0_ext.conf", "w");
     75              }
     76              else if(index == 1)
   \                     ??S2w_SaveS2wProfile_0:
   \   0000002A   0x2D01             CMP      R5,#+1
   \   0000002C   0xD117             BNE.N    ??S2w_SaveS2wProfile_3
     77              {
     78                  fp = f_open("A:/s2w_profile1.conf","r+");
   \   0000002E   0x.... 0x....      ADR.W    R4,`?<Constant "A:/s2w_profile1.conf">`
   \   00000032   0x.... 0x....      BL       ?Subroutine4
   \                     ??CrossCallReturnLabel_3:
   \   00000036   0xEA5F 0x0800      MOVS     R8,R0
     79                  if(!fp)
   \   0000003A   0xD103             BNE.N    ??S2w_SaveS2wProfile_4
     80                      fp = f_open("A:/s2w_profile1.conf","w");
   \   0000003C   0x4631             MOV      R1,R6
   \   0000003E   0x.... 0x....      BL       ??Subroutine4_0
   \                     ??CrossCallReturnLabel_1:
   \   00000042   0x4680             MOV      R8,R0
     81                      
     82                  fpExt = f_open("A:/s2w_profile1_ext.conf", "r+"); 
   \                     ??S2w_SaveS2wProfile_4:
   \   00000044   0x.... 0x....      ADR.W    R10,`?<Constant "A:/s2w_profile1_ext.conf">`
   \                     ??S2w_SaveS2wProfile_2:
   \   00000048   0x4639             MOV      R1,R7
   \   0000004A   0x4650             MOV      R0,R10
   \   0000004C   0x.... 0x....      BL       fsm_open
   \   00000050   0x0004             MOVS     R4,R0
     83                  if(!fpExt)
   \   00000052   0xD104             BNE.N    ??S2w_SaveS2wProfile_3
     84                      fpExt = f_open("A:/s2w_profile1_ext.conf", "w");
   \   00000054   0x4631             MOV      R1,R6
   \   00000056   0x4650             MOV      R0,R10
   \   00000058   0x.... 0x....      BL       fsm_open
   \   0000005C   0x4604             MOV      R4,R0
     85              }
     86          
     87              if (!fp || !fpExt)
   \                     ??S2w_SaveS2wProfile_3:
   \   0000005E   0xF1B8 0x0F00      CMP      R8,#+0
   \   00000062   0xD005             BEQ.N    ??S2w_SaveS2wProfile_5
   \   00000064   0xB944             CBNZ.N   R4,??S2w_SaveS2wProfile_6
     88              {     
     89                  //S2w_Printf("\r\nFile cannot be opened!\r\n");
     90                  if(fpExt)
     91                      f_close(fpExt);
     92                  if(fp)
     93                      f_close(fp);
   \   00000066   0x4640             MOV      R0,R8
   \                     ??S2w_SaveS2wProfile_7:
   \   00000068   0x.... 0x....      BL       fsm_close
     94                  return FILE_OPEN_ER;
   \                     ??S2w_SaveS2wProfile_8:
   \   0000006C   0x2001             MOVS     R0,#+1
   \   0000006E   0xE02C             B.N      ??S2w_SaveS2wProfile_9
   \                     ??S2w_SaveS2wProfile_5:
   \   00000070   0x2C00             CMP      R4,#+0
   \   00000072   0xD0FB             BEQ.N    ??S2w_SaveS2wProfile_8
   \   00000074   0x4620             MOV      R0,R4
   \   00000076   0xE7F7             B.N      ??S2w_SaveS2wProfile_7
     95              }
     96          
     97              if(f_write(&s2wProfile->profile[index], 1, offsetof(S2W_PROFILE_T, socRdCnt),fp) 
     98                              != offsetof(S2W_PROFILE_T, socRdCnt))
   \                     ??S2w_SaveS2wProfile_6:
   \   00000078   0xF44F 0x707E      MOV      R0,#+1016
   \   0000007C   0xFB00 0x9905      MLA      R9,R0,R5,R9
   \   00000080   0x4643             MOV      R3,R8
   \   00000082   0xF44F 0x7270      MOV      R2,#+960
   \   00000086   0x2101             MOVS     R1,#+1
   \   00000088   0x4648             MOV      R0,R9
   \   0000008A   0x.... 0x....      BL       fsm_write
   \   0000008E   0xF5B0 0x7F70      CMP      R0,#+960
   \   00000092   0xD004             BEQ.N    ??S2w_SaveS2wProfile_10
     99              {
    100                  f_close(fp);
   \   00000094   0x4640             MOV      R0,R8
   \   00000096   0x.... 0x....      BL       fsm_close
    101                  f_close(fpExt);
   \   0000009A   0x4620             MOV      R0,R4
   \   0000009C   0xE00B             B.N      ??S2w_SaveS2wProfile_11
    102                  return FILE_WRITE_ER;
    103              }
    104              if(f_write(((UINT8 *)&s2wProfile->profile[index])+offsetof(S2W_PROFILE_T, socRdCnt), 1,
    105                              sizeof(s2wProfile->profile[index]) -  offsetof(S2W_PROFILE_T, socRdCnt), fpExt) 
    106                              != (sizeof(s2wProfile->profile[index]) -  offsetof(S2W_PROFILE_T, socRdCnt)))
   \                     ??S2w_SaveS2wProfile_10:
   \   0000009E   0x4623             MOV      R3,R4
   \   000000A0   0x2238             MOVS     R2,#+56
   \   000000A2   0x2101             MOVS     R1,#+1
   \   000000A4   0xF509 0x7070      ADD      R0,R9,#+960
   \   000000A8   0x.... 0x....      BL       fsm_write
   \   000000AC   0x2838             CMP      R0,#+56
   \   000000AE   0xD006             BEQ.N    ??S2w_SaveS2wProfile_12
    107              {
    108                  f_close(fpExt);
   \   000000B0   0x.... 0x....      BL       ?Subroutine5
    109                  f_close(fp);
   \                     ??CrossCallReturnLabel_9:
   \   000000B4   0x4640             MOV      R0,R8
   \                     ??S2w_SaveS2wProfile_11:
   \   000000B6   0x.... 0x....      BL       fsm_close
    110                  return FILE_WRITE_ER;
   \   000000BA   0x2002             MOVS     R0,#+2
   \   000000BC   0xE005             B.N      ??S2w_SaveS2wProfile_9
    111              }
    112              f_close(fp);
   \                     ??S2w_SaveS2wProfile_12:
   \   000000BE   0x4640             MOV      R0,R8
   \   000000C0   0x.... 0x....      BL       fsm_close
    113              f_close(fpExt);
   \   000000C4   0x.... 0x....      BL       ?Subroutine5
    114          
    115              return S2W_SUCCESS;
   \                     ??CrossCallReturnLabel_8:
   \   000000C8   0x2000             MOVS     R0,#+0
   \                     ??S2w_SaveS2wProfile_9:
   \   000000CA   0xE8BD 0x87F0      POP      {R4-R10,PC}      ;; return
    116          }

   \                                 In section .text, align 2, keep-with-next
   \                     ?Subroutine5:
   \   00000000   0x4620             MOV      R0,R4
   \   00000002   0x.... 0x....      B.W      fsm_close

   \                                 In section .text, align 2, keep-with-next
   \                     ?Subroutine4:
   \   00000000   0x4639             MOV      R1,R7
   \                     ??Subroutine4_0:
   \   00000002   0x4620             MOV      R0,R4
   \   00000004   0x.... 0x....      B.W      fsm_open
    117          

   \                                 In section .text, align 2, keep-with-next
    118          UINT8 S2w_LoadS2wProfile(S2W_PROFILE_T *s2wProfile, UINT8 index)
    119          {
   \                     S2w_LoadS2wProfile:
   \   00000000   0xE92D 0x4FF8      PUSH     {R3-R11,LR}
   \   00000004   0x4680             MOV      R8,R0
    120              F_FILE *fp = NULL, *fpExt;
   \   00000006   0x2400             MOVS     R4,#+0
    121              UINT32 extSize = 0;
    122              UINT32 copySize = 0, profExtSize = 0, file_size = 0;
    123          
    124              if(index == 0)
   \   00000008   0xEA5F 0x0901      MOVS     R9,R1
   \   0000000C   0x....             ADR.N    R6,??DataTable17_1  ;; 0x77, 0x2B, 0x00, 0x00
   \   0000000E   0x.... 0x....      ADR.W    R11,??DataTable17  ;; 0x72, 0x2B, 0x00, 0x00
   \   00000012   0x....             ADR.N    R0,??DataTable17_2  ;; "r"
   \   00000014   0xD109             BNE.N    ??S2w_LoadS2wProfile_0
    125              {
    126                 fp = f_open("A:/s2w_profile0.conf","r");
   \   00000016   0x.... 0x....      ADR.W    R5,`?<Constant "A:/s2w_profile0.conf">`
   \   0000001A   0x.... 0x....      BL       ?Subroutine7
   \                     ??CrossCallReturnLabel_18:
   \   0000001E   0x.... 0x....      BL       ?Subroutine8
    127                 file_size = f_filelength("A:/s2w_profile0.conf");
   \                     ??CrossCallReturnLabel_23:
   \   00000022   0x4682             MOV      R10,R0
    128                 extSize = f_filelength("A:/s2w_profile0_ext.conf");
   \   00000024   0x.... 0x....      ADR.W    R5,`?<Constant "A:/s2w_profile0_ext.conf">`
   \   00000028   0xE00B             B.N      ??S2w_LoadS2wProfile_1
    129                 if((extSize != -1) && extSize != 0)
    130                 {
    131                     fpExt = f_open("A:/s2w_profile0_ext.conf", "r+"); 
    132                 }
    133                 else
    134                 {
    135                     fpExt = f_open("A:/s2w_profile0_ext.conf", "w+");
    136                     extSize = 0;
    137                 }
    138                 
    139              }
    140              else if(index == 1)
   \                     ??S2w_LoadS2wProfile_0:
   \   0000002A   0xF1B9 0x0F01      CMP      R9,#+1
   \   0000002E   0xD134             BNE.N    ??S2w_LoadS2wProfile_2
    141              {
    142                 fp = f_open("A:/s2w_profile1.conf","r");
   \   00000030   0x.... 0x....      ADR.W    R5,`?<Constant "A:/s2w_profile1.conf">`
   \   00000034   0x.... 0x....      BL       ?Subroutine7
   \                     ??CrossCallReturnLabel_17:
   \   00000038   0x.... 0x....      BL       ?Subroutine8
    143                 file_size = f_filelength("A:/s2w_profile1.conf");
   \                     ??CrossCallReturnLabel_22:
   \   0000003C   0x4682             MOV      R10,R0
    144                 extSize = f_filelength("A:/s2w_profile1_ext.conf");
   \   0000003E   0x.... 0x....      ADR.W    R5,`?<Constant "A:/s2w_profile1_ext.conf">`
   \                     ??S2w_LoadS2wProfile_1:
   \   00000042   0x.... 0x....      BL       ??Subroutine8_0
   \                     ??CrossCallReturnLabel_21:
   \   00000046   0x4607             MOV      R7,R0
    145                 if((extSize != -1) && extSize != 0)
   \   00000048   0xF117 0x0F01      CMN      R7,#+1
   \   0000004C   0xBF18             IT       NE 
   \   0000004E   0x2F00             CMPNE    R7,#+0
   \   00000050   0xD004             BEQ.N    ??S2w_LoadS2wProfile_3
    146                 {
    147                     fpExt = f_open("A:/s2w_profile1_ext.conf", "r+"); 
   \   00000052   0x4659             MOV      R1,R11
   \   00000054   0x.... 0x....      BL       ??Subroutine7_0
    148                 }
   \                     ??CrossCallReturnLabel_16:
   \   00000058   0x4605             MOV      R5,R0
   \   0000005A   0xE004             B.N      ??S2w_LoadS2wProfile_4
    149                 else
    150                 {
    151                     fpExt = f_open("A:/s2w_profile1_ext.conf", "w+"); 
   \                     ??S2w_LoadS2wProfile_3:
   \   0000005C   0x4631             MOV      R1,R6
   \   0000005E   0x.... 0x....      BL       ??Subroutine7_0
   \                     ??CrossCallReturnLabel_15:
   \   00000062   0x4605             MOV      R5,R0
    152                     extSize = 0;
   \   00000064   0x2700             MOVS     R7,#+0
    153                 }
    154              }
    155          
    156              if (!fp || !fpExt)
   \                     ??S2w_LoadS2wProfile_4:
   \   00000066   0xB1C4             CBZ.N    R4,??S2w_LoadS2wProfile_2
   \   00000068   0xB1E5             CBZ.N    R5,??S2w_LoadS2wProfile_5
    157              {     
    158              //S2w_Printf("\r\nFile cannot be opened!\r\n");
    159                  if(fpExt)
    160                      f_close(fpExt);
    161                  if(fp)
    162                      f_close(fp);
    163                  return FILE_OPEN_ER;
    164              }
    165          
    166              profExtSize = sizeof(S2W_PROFILE_T) - offsetof(S2W_PROFILE_T, socRdCnt);
    167          
    168              if(profExtSize > extSize)
   \   0000006A   0x2638             MOVS     R6,#+56
   \   0000006C   0x2F38             CMP      R7,#+56
   \   0000006E   0xBF98             IT       LS 
   \   00000070   0x463E             MOVLS    R6,R7
    169              {
    170                /* OTAFU from 5.1.X where X is less than or equal to 4  - Upgrade */
    171                  copySize = extSize;
    172              }
    173              else
    174              {
    175                /* If extSize == profileExtSizeThis then it is same FW boot
    176                   Else if the extSize > profileExtSize it is a downgrade
    177          
    178                   In both cases only copy the size equivalent of the profExtSize
    179                 */
    180                  copySize = profExtSize;
    181              }
    182          
    183              /* Copy the file_size from the profileN.conf to the profile */
    184              if(f_read(&FlashParams.profile[index],1,file_size,fp) != file_size)
   \   00000072   0xF44F 0x707E      MOV      R0,#+1016
   \   00000076   0x....             LDR.N    R1,??DataTable17_3
   \   00000078   0xFB00 0x1909      MLA      R9,R0,R9,R1
   \   0000007C   0x4623             MOV      R3,R4
   \   0000007E   0x4652             MOV      R2,R10
   \   00000080   0x2101             MOVS     R1,#+1
   \   00000082   0x4648             MOV      R0,R9
   \   00000084   0x.... 0x....      BL       fsm_read
   \   00000088   0x4550             CMP      R0,R10
   \   0000008A   0xD00F             BEQ.N    ??S2w_LoadS2wProfile_6
    185              {
    186                  f_close(fp);
   \   0000008C   0x.... 0x....      BL       ?Subroutine5
    187                  f_close(fpExt);
   \                     ??CrossCallReturnLabel_7:
   \   00000090   0x4628             MOV      R0,R5
   \   00000092   0x.... 0x....      BL       fsm_close
    188                  return FILE_READ_ER;
   \   00000096   0x2003             MOVS     R0,#+3
   \   00000098   0xE02C             B.N      ??S2w_LoadS2wProfile_7
    189              }
   \                     ??S2w_LoadS2wProfile_2:
   \   0000009A   0xB115             CBZ.N    R5,??S2w_LoadS2wProfile_8
   \   0000009C   0x4628             MOV      R0,R5
   \   0000009E   0x.... 0x....      BL       fsm_close
   \                     ??S2w_LoadS2wProfile_8:
   \   000000A2   0xB10C             CBZ.N    R4,??CrossCallReturnLabel_6
   \                     ??S2w_LoadS2wProfile_5:
   \   000000A4   0x.... 0x....      BL       ?Subroutine5
   \                     ??CrossCallReturnLabel_6:
   \   000000A8   0x2001             MOVS     R0,#+1
   \   000000AA   0xE023             B.N      ??S2w_LoadS2wProfile_7
    190          
    191              /* Copy the copySize from the profileN_ext.conf to the profile */
    192              if (copySize)
   \                     ??S2w_LoadS2wProfile_6:
   \   000000AC   0xF509 0x7B70      ADD      R11,R9,#+960
   \   000000B0   0xB12E             CBZ.N    R6,??S2w_LoadS2wProfile_9
    193              {
    194                  f_read(((UINT8 *)&FlashParams.profile[index]) + offsetof(S2W_PROFILE_T, socRdCnt), 1, copySize, fpExt);
   \   000000B2   0x462B             MOV      R3,R5
   \   000000B4   0x4632             MOV      R2,R6
   \   000000B6   0x2101             MOVS     R1,#+1
   \   000000B8   0x4658             MOV      R0,R11
   \   000000BA   0x.... 0x....      BL       fsm_read
    195              }
    196          
    197              /* Save Back */
    198          
    199              /* If this is OTAFU and the profile changed - save the extension */
    200              if (profExtSize > extSize)
   \                     ??S2w_LoadS2wProfile_9:
   \   000000BE   0x2F38             CMP      R7,#+56
   \   000000C0   0xD20A             BCS.N    ??S2w_LoadS2wProfile_10
    201              {
    202                  f_seek(fpExt,0, F_SEEK_SET);
   \   000000C2   0x2200             MOVS     R2,#+0
   \   000000C4   0x2100             MOVS     R1,#+0
   \   000000C6   0x4628             MOV      R0,R5
   \   000000C8   0x.... 0x....      BL       fsm_seek
    203                  f_write(((UINT8 *)&FlashParams.profile[index]) + offsetof(S2W_PROFILE_T, socRdCnt), 1, profExtSize, fpExt);
   \   000000CC   0x462B             MOV      R3,R5
   \   000000CE   0x2238             MOVS     R2,#+56
   \   000000D0   0x2101             MOVS     R1,#+1
   \   000000D2   0x4658             MOV      R0,R11
   \   000000D4   0x.... 0x....      BL       fsm_write
    204              }
    205          
    206              if(s2wProfile != &FlashParams.profile[index])
   \                     ??S2w_LoadS2wProfile_10:
   \   000000D8   0x45C8             CMP      R8,R9
   \   000000DA   0xD005             BEQ.N    ??S2w_LoadS2wProfile_11
    207              {
    208                  memcpy(s2wProfile, &FlashParams.profile[index], sizeof(S2W_PROFILE_T));
   \   000000DC   0xF44F 0x727E      MOV      R2,#+1016
   \   000000E0   0x4649             MOV      R1,R9
   \   000000E2   0x4640             MOV      R0,R8
   \   000000E4   0x.... 0x....      BL       memcpy
    209              }
    210          
    211              f_close(fpExt);
   \                     ??S2w_LoadS2wProfile_11:
   \   000000E8   0x4628             MOV      R0,R5
   \   000000EA   0x.... 0x....      BL       fsm_close
    212              f_close(fp);
   \   000000EE   0x.... 0x....      BL       ?Subroutine5
    213          
    214              return S2W_SUCCESS;  
   \                     ??CrossCallReturnLabel_5:
   \   000000F2   0x2000             MOVS     R0,#+0
   \                     ??S2w_LoadS2wProfile_7:
   \   000000F4   0xE8BD 0x8FF2      POP      {R1,R4-R11,PC}   ;; return
    215          }

   \                                 In section .text, align 2, keep-with-next
   \                     ?Subroutine8:
   \   00000000   0x4604             MOV      R4,R0
   \                     ??Subroutine8_0:
   \   00000002   0x4628             MOV      R0,R5
   \   00000004   0x.... 0x....      B.W      fsm_filelength

   \                                 In section .text, align 2, keep-with-next
   \                     ?Subroutine7:
   \   00000000   0x4601             MOV      R1,R0
   \                     ??Subroutine7_0:
   \   00000002   0x4628             MOV      R0,R5
   \   00000004   0x.... 0x....      B.W      fsm_open
    216          
    217          

   \                                 In section .text, align 2, keep-with-next
    218          UINT8 S2w_SaveS2wProfileParams(S2W_PROFILE_PARAMS_T *defaultProfile)
    219          {
   \                     S2w_SaveS2wProfileParams:
   \   00000000   0xB538             PUSH     {R3-R5,LR}
    220              F_FILE *fp = NULL;
    221              INT32 fileLen;
    222          
    223              memcpy(&profile_params,defaultProfile,sizeof(S2W_PROFILE_PARAMS_T));
   \   00000002   0x....             LDR.N    R4,??DataTable17_4
   \   00000004   0x4601             MOV      R1,R0
   \   00000006   0x2208             MOVS     R2,#+8
   \   00000008   0x4620             MOV      R0,R4
   \   0000000A   0x.... 0x....      BL       memcpy
    224              fileLen = f_filelength("A:/s2w_profile_params.conf");
   \   0000000E   0x.... 0x....      ADR.W    R5,`?<Constant "A:/s2w_profile_params...">`
   \   00000012   0x.... 0x....      BL       ??Subroutine8_0
    225              if(fileLen != 0 && fileLen != -1)
   \                     ??CrossCallReturnLabel_20:
   \   00000016   0x2800             CMP      R0,#+0
   \   00000018   0xBF1A             ITTE     NE 
   \   0000001A   0xF110 0x0F01      CMNNE    R0,#+1
   \   0000001E   0x....             ADRNE.N  R1,??DataTable17  ;; 0x72, 0x2B, 0x00, 0x00
   \   00000020   0x....             ADREQ.N  R1,??DataTable16  ;; "w"
    226                  fp = f_open("A:/s2w_profile_params.conf","r+");
    227              else
    228                  fp = f_open("A:/s2w_profile_params.conf","w");
   \   00000022   0x.... 0x....      BL       ??Subroutine7_0
   \                     ??CrossCallReturnLabel_14:
   \   00000026   0x0005             MOVS     R5,R0
    229          
    230              if (!fp)
   \   00000028   0xD101             BNE.N    ??S2w_SaveS2wProfileParams_0
    231              {     
    232              //S2w_Printf("\r\nFile cannot be opened!\r\n");
    233                  return FILE_OPEN_ER;
   \   0000002A   0x2001             MOVS     R0,#+1
   \   0000002C   0xBD32             POP      {R1,R4,R5,PC}
    234              }
    235          
    236              if(f_write(&profile_params,1,sizeof(profile_params),fp) != sizeof(profile_params))
   \                     ??S2w_SaveS2wProfileParams_0:
   \   0000002E   0x462B             MOV      R3,R5
   \   00000030   0x2208             MOVS     R2,#+8
   \   00000032   0x.... 0x....      BL       ??Subroutine6_0
   \                     ??CrossCallReturnLabel_10:
   \   00000036   0x2808             CMP      R0,#+8
   \   00000038   0x4628             MOV      R0,R5
   \   0000003A   0xD000             BEQ.N    ??S2w_SaveS2wProfileParams_1
    237              {
    238                  f_close(fp);
   \   0000003C   0x....             B.N      ?Subroutine1
    239                  return FILE_WRITE_ER;
    240              }
    241          
    242              f_close(fp);
   \                     ??S2w_SaveS2wProfileParams_1:
   \   0000003E   0x....             B.N      ?Subroutine0
    243          
    244              return S2W_SUCCESS;
    245          
    246          }

   \                                 In section .text, align 2, keep-with-next
   \                     ?Subroutine0:
   \   00000000   0x.... 0x....      BL       fsm_close
   \   00000004   0x2000             MOVS     R0,#+0
   \   00000006   0xBD32             POP      {R1,R4,R5,PC}    ;; return

   \                                 In section .text, align 2, keep-with-next
   \                     ?Subroutine6:
   \   00000000   0x462B             MOV      R3,R5
   \   00000002   0x2206             MOVS     R2,#+6
   \                     ??Subroutine6_0:
   \   00000004   0x2101             MOVS     R1,#+1
   \   00000006   0x4620             MOV      R0,R4
   \   00000008   0x.... 0x....      B.W      fsm_write

   \                                 In section .text, align 2, keep-with-next
   \                     ?Subroutine1:
   \   00000000   0x.... 0x....      BL       fsm_close
   \   00000004   0x2002             MOVS     R0,#+2
   \   00000006   0xBD32             POP      {R1,R4,R5,PC}
    247          
    248          

   \                                 In section .text, align 2, keep-with-next
    249          UINT8 S2w_LoadS2wProfileParams()
    250          {
   \                     S2w_LoadS2wProfileParams:
   \   00000000   0xB538             PUSH     {R3-R5,LR}
    251            F_FILE *fp;
    252            
    253            fp = f_open("A:/s2w_profile_params.conf","r");
   \   00000002   0x.... 0x....      ADR.W    R4,`?<Constant "A:/s2w_profile_params...">`
   \   00000006   0x....             ADR.N    R1,??DataTable17_2  ;; "r"
   \   00000008   0x.... 0x....      BL       ??Subroutine4_0
   \                     ??CrossCallReturnLabel_0:
   \   0000000C   0x0005             MOVS     R5,R0
    254              
    255              if (!fp)
   \   0000000E   0xD101             BNE.N    ??S2w_LoadS2wProfileParams_0
    256            {     
    257              //S2w_Printf("\r\nFile cannot be opened!\r\n");
    258               return FILE_OPEN_ER;
   \   00000010   0x2001             MOVS     R0,#+1
   \   00000012   0xBD32             POP      {R1,R4,R5,PC}
    259            }
    260            
    261            long file_size = f_filelength("A:/s2w_profile_params.conf");
   \                     ??S2w_LoadS2wProfileParams_0:
   \   00000014   0x4620             MOV      R0,R4
   \   00000016   0x.... 0x....      BL       fsm_filelength
    262            
    263             if(f_read(&profile_params,1,sizeof(S2W_PROFILE_PARAMS_T),fp) != sizeof(S2W_PROFILE_PARAMS_T))
   \   0000001A   0x462B             MOV      R3,R5
   \   0000001C   0x2208             MOVS     R2,#+8
   \   0000001E   0x2101             MOVS     R1,#+1
   \   00000020   0x....             LDR.N    R0,??DataTable17_4
   \   00000022   0x.... 0x....      BL       fsm_read
   \   00000026   0x2808             CMP      R0,#+8
   \   00000028   0x4628             MOV      R0,R5
   \   0000002A   0xD003             BEQ.N    ??S2w_LoadS2wProfileParams_1
    264            {
    265              f_close(fp);
   \   0000002C   0x.... 0x....      BL       fsm_close
    266              return FILE_READ_ER;
   \   00000030   0x2003             MOVS     R0,#+3
   \   00000032   0xBD32             POP      {R1,R4,R5,PC}
    267          
    268            }
    269            
    270            f_close(fp);
   \                     ??S2w_LoadS2wProfileParams_1:
   \   00000034                      REQUIRE ?Subroutine0
   \   00000034                      ;; // Fall through to label ?Subroutine0
    271            
    272            return S2W_SUCCESS;
    273          }
    274          
    275          /* Station Mac addre
    276           */
    277          

   \                                 In section .text, align 2, keep-with-next
    278          UINT8 S2w_SaveMacAddr(const UINT8 *macAddr)
    279          {
   \                     S2w_SaveMacAddr:
   \   00000000   0xB538             PUSH     {R3-R5,LR}
   \   00000002   0x4604             MOV      R4,R0
    280            F_FILE *fp;
    281              fp = f_open("A:/s2w_mac.conf","w+");
   \   00000004   0x....             ADR.N    R1,??DataTable17_1  ;; 0x77, 0x2B, 0x00, 0x00
   \   00000006   0x.... 0x....      ADR.W    R0,`?<Constant "A:/s2w_mac.conf">`
   \   0000000A   0x.... 0x....      BL       fsm_open
   \   0000000E   0x0005             MOVS     R5,R0
    282              if (!fp)
   \   00000010   0xD101             BNE.N    ??S2w_SaveMacAddr_0
    283            {     
    284               return FILE_OPEN_ER;
   \   00000012   0x2001             MOVS     R0,#+1
   \   00000014   0xBD32             POP      {R1,R4,R5,PC}
    285            }
    286            if(f_write(macAddr,1,S2W_MAC_ADDR_SIZE,fp) != S2W_MAC_ADDR_SIZE)
   \                     ??S2w_SaveMacAddr_0:
   \   00000016   0x.... 0x....      BL       ?Subroutine6
   \                     ??CrossCallReturnLabel_12:
   \   0000001A   0x2806             CMP      R0,#+6
   \   0000001C   0x4628             MOV      R0,R5
   \   0000001E   0xD000             BEQ.N    ??S2w_SaveMacAddr_1
    287              {
    288                f_close(fp);
   \   00000020   0x....             B.N      ?Subroutine1
    289                return FILE_WRITE_ER;
    290              }
    291            f_close(fp);
   \                     ??S2w_SaveMacAddr_1:
   \   00000022   0x....             B.N      ?Subroutine0
    292            return S2W_SUCCESS;
    293          }

   \                                 In section .text, align 2, keep-with-next
    294          UINT8 S2w_LoadMacAddr(UINT8 *macAddr)
    295          {
   \                     S2w_LoadMacAddr:
   \   00000000   0xB570             PUSH     {R4-R6,LR}
   \   00000002   0x4604             MOV      R4,R0
    296            F_FILE *fp;
    297           fp = f_open("A:/s2w_mac.conf","r");    
   \   00000004   0x.... 0x....      ADR.W    R5,`?<Constant "A:/s2w_mac.conf">`
   \   00000008   0x....             ADR.N    R1,??DataTable17_2  ;; "r"
   \   0000000A   0x.... 0x....      BL       ??Subroutine7_0
   \                     ??CrossCallReturnLabel_13:
   \   0000000E   0x0006             MOVS     R6,R0
    298              if (!fp)
   \   00000010   0xD101             BNE.N    ??S2w_LoadMacAddr_0
    299            {     
    300               return FILE_OPEN_ER;
   \   00000012   0x2001             MOVS     R0,#+1
   \   00000014   0xBD70             POP      {R4-R6,PC}
    301            }
    302            long file_size = f_filelength("A:/s2w_mac.conf");
   \                     ??S2w_LoadMacAddr_0:
   \   00000016   0x.... 0x....      BL       ??Subroutine8_0
   \                     ??CrossCallReturnLabel_19:
   \   0000001A   0x4605             MOV      R5,R0
    303             if(f_read(macAddr,1,file_size,fp) != file_size)
   \   0000001C   0x4633             MOV      R3,R6
   \   0000001E   0x462A             MOV      R2,R5
   \   00000020   0x2101             MOVS     R1,#+1
   \   00000022   0x4620             MOV      R0,R4
   \   00000024   0x.... 0x....      BL       fsm_read
   \   00000028   0x42A8             CMP      R0,R5
   \   0000002A   0x4630             MOV      R0,R6
   \   0000002C   0xD000             BEQ.N    ??S2w_LoadMacAddr_1
    304            {
    305              f_close(fp);
   \   0000002E   0x....             B.N      ?Subroutine3
    306              return FILE_READ_ER;
    307            }
    308            f_close(fp);
   \                     ??S2w_LoadMacAddr_1:
   \   00000030   0x....             B.N      ?Subroutine2
    309            return S2W_SUCCESS;
    310          }

   \                                 In section .text, align 2, keep-with-next
   \                     ?Subroutine3:
   \   00000000   0x.... 0x....      BL       fsm_close
   \   00000004   0x2003             MOVS     R0,#+3
   \   00000006   0xBD70             POP      {R4-R6,PC}

   \                                 In section .text, align 2, keep-with-next
   \                     ?Subroutine2:
   \   00000000   0x.... 0x....      BL       fsm_close
   \   00000004   0x2000             MOVS     R0,#+0
   \   00000006   0xBD70             POP      {R4-R6,PC}       ;; return
    311          
    312          
    313          /* Limited AP mac addr..
    314           */

   \                                 In section .text, align 2, keep-with-next
    315          UINT8 S2w_SaveApMacAddr(const UINT8 *macAddr)
    316          {
   \                     S2w_SaveApMacAddr:
   \   00000000   0xB538             PUSH     {R3-R5,LR}
   \   00000002   0x4604             MOV      R4,R0
    317            F_FILE *fp;
    318              fp = f_open("A:/s2w_ap_mac.conf","w+");
   \   00000004   0x....             ADR.N    R1,??DataTable17_1  ;; 0x77, 0x2B, 0x00, 0x00
   \   00000006   0x.... 0x....      ADR.W    R0,`?<Constant "A:/s2w_ap_mac.conf">`
   \   0000000A   0x.... 0x....      BL       fsm_open
   \   0000000E   0x0005             MOVS     R5,R0
    319              if (!fp)
   \   00000010   0xD101             BNE.N    ??S2w_SaveApMacAddr_0
    320            {
    321               return FILE_OPEN_ER;
   \   00000012   0x2001             MOVS     R0,#+1
   \   00000014   0xBD32             POP      {R1,R4,R5,PC}
    322            }
    323            if(f_write(macAddr,1,S2W_MAC_ADDR_SIZE,fp) != S2W_MAC_ADDR_SIZE)
   \                     ??S2w_SaveApMacAddr_0:
   \   00000016   0x.... 0x....      BL       ?Subroutine6
   \                     ??CrossCallReturnLabel_11:
   \   0000001A   0x2806             CMP      R0,#+6
   \   0000001C   0x4628             MOV      R0,R5
   \   0000001E   0xD000             BEQ.N    ??S2w_SaveApMacAddr_1
    324              {
    325                f_close(fp);
   \   00000020   0x....             B.N      ?Subroutine1
    326                return FILE_WRITE_ER;
    327              }
    328            f_close(fp);
   \                     ??S2w_SaveApMacAddr_1:
   \   00000022   0x....             B.N      ?Subroutine0
    329            return S2W_SUCCESS;
    330          }

   \                                 In section .text, align 2, keep-with-next
    331          UINT8 S2w_LoadApMacAddr(UINT8 *macAddr)
    332          {
   \                     S2w_LoadApMacAddr:
   \   00000000   0xB570             PUSH     {R4-R6,LR}
   \   00000002   0x4604             MOV      R4,R0
    333            F_FILE *fp;
    334           fp = f_open("A:/s2w_ap_mac.conf","r");
   \   00000004   0x....             ADR.N    R1,??DataTable17_2  ;; "r"
   \   00000006   0x.... 0x....      ADR.W    R0,`?<Constant "A:/s2w_ap_mac.conf">`
   \   0000000A   0x.... 0x....      BL       fsm_open
   \   0000000E   0x0005             MOVS     R5,R0
    335              if (!fp)
   \   00000010   0xD101             BNE.N    ??S2w_LoadApMacAddr_0
    336            {
    337               return FILE_OPEN_ER;
   \   00000012   0x2001             MOVS     R0,#+1
   \   00000014   0xBD70             POP      {R4-R6,PC}
    338            }
    339            long file_size = f_filelength("A:/s2w_mac.conf");
   \                     ??S2w_LoadApMacAddr_0:
   \   00000016   0x.... 0x....      ADR.W    R0,`?<Constant "A:/s2w_mac.conf">`
   \   0000001A   0x.... 0x....      BL       fsm_filelength
   \   0000001E   0x4606             MOV      R6,R0
    340             if(f_read(macAddr,1,file_size,fp) != file_size)
   \   00000020   0x462B             MOV      R3,R5
   \   00000022   0x4632             MOV      R2,R6
   \   00000024   0x2101             MOVS     R1,#+1
   \   00000026   0x4620             MOV      R0,R4
   \   00000028   0x.... 0x....      BL       fsm_read
   \   0000002C   0x42B0             CMP      R0,R6
   \   0000002E   0x4628             MOV      R0,R5
   \   00000030   0xD000             BEQ.N    ??S2w_LoadApMacAddr_1
    341            {
    342              f_close(fp);
   \   00000032   0x....             B.N      ?Subroutine3
    343              return FILE_READ_ER;
    344            }
    345            f_close(fp);
   \                     ??S2w_LoadApMacAddr_1:
   \   00000034   0x....             B.N      ?Subroutine2
    346            return S2W_SUCCESS;
    347          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable16:
   \   00000000   0x77 0x00          DC8      "w",0x0,0x0
   \              0x00 0x00    

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17:
   \   00000000   0x72 0x2B          DC8      0x72, 0x2B, 0x00, 0x00
   \              0x00 0x00    

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_1:
   \   00000000   0x77 0x2B          DC8      0x77, 0x2B, 0x00, 0x00
   \              0x00 0x00    

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_2:
   \   00000000   0x72 0x00          DC8      "r",0x0,0x0
   \              0x00 0x00    

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_3:
   \   00000000   0x........         DC32     FlashParams

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable17_4:
   \   00000000   0x........         DC32     profile_params

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "A:/s2w_profile0.conf">`:
   \   00000000   0x41 0x3A          DC8 "A:/s2w_profile0.conf"
   \              0x2F 0x73    
   \              0x32 0x77    
   \              0x5F 0x70    
   \              0x72 0x6F    
   \              0x66 0x69    
   \              0x6C 0x65    
   \              0x30 0x2E    
   \              0x63 0x6F    
   \              0x6E 0x66    
   \              0x00         
   \   00000015   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "A:/s2w_profile0_ext.conf">`:
   \   00000000   0x41 0x3A          DC8 "A:/s2w_profile0_ext.conf"
   \              0x2F 0x73    
   \              0x32 0x77    
   \              0x5F 0x70    
   \              0x72 0x6F    
   \              0x66 0x69    
   \              0x6C 0x65    
   \              0x30 0x5F    
   \              0x65 0x78    
   \              0x74 0x2E    
   \              0x63 0x6F    
   \              0x6E 0x66    
   \              0x00         
   \   00000019   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "A:/s2w_profile1.conf">`:
   \   00000000   0x41 0x3A          DC8 "A:/s2w_profile1.conf"
   \              0x2F 0x73    
   \              0x32 0x77    
   \              0x5F 0x70    
   \              0x72 0x6F    
   \              0x66 0x69    
   \              0x6C 0x65    
   \              0x31 0x2E    
   \              0x63 0x6F    
   \              0x6E 0x66    
   \              0x00         
   \   00000015   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "A:/s2w_profile1_ext.conf">`:
   \   00000000   0x41 0x3A          DC8 "A:/s2w_profile1_ext.conf"
   \              0x2F 0x73    
   \              0x32 0x77    
   \              0x5F 0x70    
   \              0x72 0x6F    
   \              0x66 0x69    
   \              0x6C 0x65    
   \              0x31 0x5F    
   \              0x65 0x78    
   \              0x74 0x2E    
   \              0x63 0x6F    
   \              0x6E 0x66    
   \              0x00         
   \   00000019   0x00 0x00          DC8 0, 0, 0
   \              0x00         

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "A:/s2w_profile_params...">`:
   \   00000000   0x41 0x3A          DC8 "A:/s2w_profile_params.conf"
   \              0x2F 0x73    
   \              0x32 0x77    
   \              0x5F 0x70    
   \              0x72 0x6F    
   \              0x66 0x69    
   \              0x6C 0x65    
   \              0x5F 0x70    
   \              0x61 0x72    
   \              0x61 0x6D    
   \              0x73 0x2E    
   \              0x63 0x6F    
   \              0x6E 0x66    
   \              0x00         
   \   0000001B   0x00               DC8 0

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "A:/s2w_mac.conf">`:
   \   00000000   0x41 0x3A          DC8 "A:/s2w_mac.conf"
   \              0x2F 0x73    
   \              0x32 0x77    
   \              0x5F 0x6D    
   \              0x61 0x63    
   \              0x2E 0x63    
   \              0x6F 0x6E    
   \              0x66 0x00    

   \                                 In section .text, align 4, keep-with-next
   \                     `?<Constant "A:/s2w_ap_mac.conf">`:
   \   00000000   0x41 0x3A          DC8 "A:/s2w_ap_mac.conf"
   \              0x2F 0x73    
   \              0x32 0x77    
   \              0x5F 0x61    
   \              0x70 0x5F    
   \              0x6D 0x61    
   \              0x63 0x2E    
   \              0x63 0x6F    
   \              0x6E 0x66    
   \              0x00         
   \   00000013   0x00               DC8 0

   \                                 In section .rodata, align 4, keep-with-next
   \                     `?<Constant "r+">`:
   \   00000000   0x72 0x2B          DC8 "r+"
   \              0x00         
   \   00000003   0x00               DC8 0

   \                                 In section .rodata, align 2, keep-with-next
   \                     `?<Constant "w">`:
   \   00000000   0x77 0x00          DC8 "w"

   \                                 In section .rodata, align 2, keep-with-next
   \                     `?<Constant "r">`:
   \   00000000   0x72 0x00          DC8 "r"

   \                                 In section .rodata, align 4, keep-with-next
   \                     `?<Constant "w+">`:
   \   00000000   0x77 0x2B          DC8 "w+"
   \              0x00         
   \   00000003   0x00               DC8 0

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
      16   S2w_LoadApMacAddr
        16   -> fsm_close
        16   -> fsm_filelength
        16   -> fsm_open
        16   -> fsm_read
      16   S2w_LoadMacAddr
        16   -> fsm_close
        16   -> fsm_filelength
        16   -> fsm_open
        16   -> fsm_read
      40   S2w_LoadS2wProfile
        40   -> fsm_close
        40   -> fsm_filelength
        40   -> fsm_open
        40   -> fsm_read
        40   -> fsm_seek
        40   -> fsm_write
        40   -> memcpy
      16   S2w_LoadS2wProfileParams
        16   -> fsm_close
        16   -> fsm_filelength
        16   -> fsm_open
        16   -> fsm_read
      16   S2w_SaveApMacAddr
        16   -> fsm_close
        16   -> fsm_open
        16   -> fsm_write
      16   S2w_SaveMacAddr
        16   -> fsm_close
        16   -> fsm_open
        16   -> fsm_write
      32   S2w_SaveS2wProfile
        32   -> fsm_close
        32   -> fsm_open
        32   -> fsm_write
      16   S2w_SaveS2wProfileParams
        16   -> fsm_close
        16   -> fsm_filelength
        16   -> fsm_open
        16   -> fsm_write
        16   -> memcpy
       8   memcpy
         8   -> __aeabi_memcpy


   Section sizes:

   Bytes  Function/Label
   -----  --------------
      20  ?<Constant "A:/s2w_ap_mac.conf">
      16  ?<Constant "A:/s2w_mac.conf">
      24  ?<Constant "A:/s2w_profile0.conf">
      28  ?<Constant "A:/s2w_profile0_ext.conf">
      24  ?<Constant "A:/s2w_profile1.conf">
      28  ?<Constant "A:/s2w_profile1_ext.conf">
      28  ?<Constant "A:/s2w_profile_params...">
       2  ?<Constant "r">
       4  ?<Constant "r+">
       2  ?<Constant "w">
       4  ?<Constant "w+">
       4  ??DataTable16
       4  ??DataTable17
       4  ??DataTable17_1
       4  ??DataTable17_2
       4  ??DataTable17_3
       4  ??DataTable17_4
       8  ?Subroutine0
       8  ?Subroutine1
       8  ?Subroutine2
       8  ?Subroutine3
       8  ?Subroutine4
       6  ?Subroutine5
      12  ?Subroutine6
       8  ?Subroutine7
       8  ?Subroutine8
      54  S2w_LoadApMacAddr
      50  S2w_LoadMacAddr
     248  S2w_LoadS2wProfile
      52  S2w_LoadS2wProfileParams
      36  S2w_SaveApMacAddr
      36  S2w_SaveMacAddr
     206  S2w_SaveS2wProfile
      64  S2w_SaveS2wProfileParams
      12  memcpy
       8  profile_params

 
     8 bytes in section .bss
    12 bytes in section .rodata
 1 024 bytes in section .text
 
 1 012 bytes of CODE  memory (+ 12 bytes shared)
    12 bytes of CONST memory
     8 bytes of DATA  memory

Errors: none
Warnings: none
