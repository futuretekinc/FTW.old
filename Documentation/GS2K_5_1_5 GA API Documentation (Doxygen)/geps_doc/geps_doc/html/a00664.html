<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<title>GEPS Documentation</title>
<table style="text-align: left; height: 28px; width: 710px;" border="0" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="width: 360px;" align="center" valign="middle"><img style="width: 300px; height: 82px;" alt="GainSpan" src="GainSpan_logo_hi-res.jpg"><br><span style="font-family: Verdana; font-style: italic;">Gainspan Embedded Platform Software</span></td>
<td style="width: 202px;" align="center" valign="middle"></td>
<td style="width: 120px;" align="center" valign="middle"><br></td>
</tr>
</tbody>
</table>
<br>
</head>

<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Groups</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('a00664.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">GSN EXTERNAL FLASH API</div>  </div>
<div class="ingroups"><a class="el" href="a00682.html">Drivers service group</a></div></div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC <a class="el" href="a00660.html#ga63021d67d54286c2163bcdb43a6f2569">INT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00664.html#gadcfa064597618fbf7cb4c1bac30f4bc8">GsnExtFlash_Init</a> (<a class="el" href="a00071.html">GSN_EXTFLASH_CTX_T</a> *gsExtFlashCtx, <a class="el" href="a00587.html#a8158d263babcdfe1b3b113e23acd1bf7">GSN_SPI_NUM_T</a> spiPortNumber, <a class="el" href="a00231.html">GSN_SPI_CONFIG_T</a> *spiConfig, <a class="el" href="a00496.html#ae69f658e2fd080c54a78eb23e4be2f59">GSN_FLASH_SPI_FLAG_T</a> spiFlag)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">serial flash config init.  <a href="#gadcfa064597618fbf7cb4c1bac30f4bc8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC <a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00664.html#ga969314425ebd66d21301f5e2a681dee3">GsnExtFlash_Read</a> (<a class="el" href="a00071.html">GSN_EXTFLASH_CTX_T</a> *gsExtFlashCtx, <a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> dataLen, <a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> readAddr, <a class="el" href="a00660.html#gab27e9918b538ce9d8ca692479b375b6a">UINT8</a> *dataBuf, <a class="el" href="a00496.html#ae69f658e2fd080c54a78eb23e4be2f59">GSN_FLASH_SPI_FLAG_T</a> spiFlag, <a class="el" href="a00496.html#a501e29be4c0f8b2ab5c186eb8deb8874">GSN_EXTFLASH_CALLBACK_T</a> *extFlashCallBack, VOID *cbCtx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">read the external flash memory using poll and DMA.  <a href="#ga969314425ebd66d21301f5e2a681dee3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC <a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00664.html#ga1e65016bc9bc6e7f219148b64b94213e">GsnExtFlash_Write</a> (<a class="el" href="a00071.html">GSN_EXTFLASH_CTX_T</a> *gsExtFlashCtx, <a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> dataLen, <a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> writeAddr, <a class="el" href="a00660.html#gab27e9918b538ce9d8ca692479b375b6a">UINT8</a> *dataBuf, <a class="el" href="a00496.html#ae69f658e2fd080c54a78eb23e4be2f59">GSN_FLASH_SPI_FLAG_T</a> spiFlag, <a class="el" href="a00496.html#a501e29be4c0f8b2ab5c186eb8deb8874">GSN_EXTFLASH_CALLBACK_T</a> *extFlashCallBack, VOID *cbCtx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">page boundary calculation to write data on the external flash memory.  <a href="#ga1e65016bc9bc6e7f219148b64b94213e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00664.html#ga8f346bfff1d200c13547335c5e15ee21">GsnExtFlash_Erase</a> (<a class="el" href="a00071.html">GSN_EXTFLASH_CTX_T</a> *gsExtFlashCtx, <a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> eraseSectorAddr, <a class="el" href="a00496.html#ae69f658e2fd080c54a78eb23e4be2f59">GSN_FLASH_SPI_FLAG_T</a> spiFlag, <a class="el" href="a00496.html#a501e29be4c0f8b2ab5c186eb8deb8874">GSN_EXTFLASH_CALLBACK_T</a> *extFlashCallBack, VOID *cbCtx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase the external flash memory using poll.  <a href="#ga8f346bfff1d200c13547335c5e15ee21"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00664.html#gafe4645cffc8fea4258121afb22b7710a">GsnExtFlash_ChipErase</a> (<a class="el" href="a00071.html">GSN_EXTFLASH_CTX_T</a> *gsExtFlashCtx, <a class="el" href="a00496.html#ae69f658e2fd080c54a78eb23e4be2f59">GSN_FLASH_SPI_FLAG_T</a> spiFlag, <a class="el" href="a00496.html#a501e29be4c0f8b2ab5c186eb8deb8874">GSN_EXTFLASH_CALLBACK_T</a> *extFlashCallBack, VOID *cbCtx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase the external flash memory using poll.  <a href="#gafe4645cffc8fea4258121afb22b7710a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00664.html#gac7cc4c60e6c57cc8516f0657f294e9f8">GsnExtFlash_32KErase</a> (<a class="el" href="a00071.html">GSN_EXTFLASH_CTX_T</a> *gsExtFlashCtx, <a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> eraseBlockAddr, <a class="el" href="a00496.html#ae69f658e2fd080c54a78eb23e4be2f59">GSN_FLASH_SPI_FLAG_T</a> spiFlag, <a class="el" href="a00496.html#a501e29be4c0f8b2ab5c186eb8deb8874">GSN_EXTFLASH_CALLBACK_T</a> *extFlashCallBack, VOID *cbCtx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase the external flash memory using poll.  <a href="#gac7cc4c60e6c57cc8516f0657f294e9f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00664.html#ga62708c304046ad8a906a0152cc3487ba">GsnExtFlash_64KErase</a> (<a class="el" href="a00071.html">GSN_EXTFLASH_CTX_T</a> *gsExtFlashCtx, <a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> eraseBlockAddr, <a class="el" href="a00496.html#ae69f658e2fd080c54a78eb23e4be2f59">GSN_FLASH_SPI_FLAG_T</a> spiFlag, <a class="el" href="a00496.html#a501e29be4c0f8b2ab5c186eb8deb8874">GSN_EXTFLASH_CALLBACK_T</a> *extFlashCallBack, VOID *cbCtx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Erase the external flash memory using poll.  <a href="#ga62708c304046ad8a906a0152cc3487ba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">PUBLIC <a class="el" href="a00660.html#ga63021d67d54286c2163bcdb43a6f2569">INT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00664.html#ga3d33b60e6c2f80993970911c991a899f">GsnExtFlash_SpiReadWrite</a> (<a class="el" href="a00238.html">GSN_SPI_HANDLE_T</a> *spiHandle, <a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> dataLen, <a class="el" href="a00660.html#gab27e9918b538ce9d8ca692479b375b6a">UINT8</a> *rxBuf, <a class="el" href="a00660.html#gab27e9918b538ce9d8ca692479b375b6a">UINT8</a> *txBuf, <a class="el" href="a00496.html#ae69f658e2fd080c54a78eb23e4be2f59">GSN_FLASH_SPI_FLAG_T</a> spiFlag, <a class="el" href="a00496.html#a501e29be4c0f8b2ab5c186eb8deb8874">GSN_EXTFLASH_CALLBACK_T</a> *extFlashCallBack, VOID *cbCtx)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">SPI Read Write of data with respect to size.  <a href="#ga3d33b60e6c2f80993970911c991a899f"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>This group contains public definitions and functions providing access to the GS2000's SPI. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gac7cc4c60e6c57cc8516f0657f294e9f8"></a><!-- doxytag: member="gsn_ext_flash_driver.h::GsnExtFlash_32KErase" ref="gac7cc4c60e6c57cc8516f0657f294e9f8" args="(GSN_EXTFLASH_CTX_T *gsExtFlashCtx, UINT32 eraseBlockAddr, GSN_FLASH_SPI_FLAG_T spiFlag, GSN_EXTFLASH_CALLBACK_T *extFlashCallBack, VOID *cbCtx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC VOID GsnExtFlash_32KErase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00071.html">GSN_EXTFLASH_CTX_T</a> *&#160;</td>
          <td class="paramname"><em>gsExtFlashCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>&#160;</td>
          <td class="paramname"><em>eraseBlockAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00496.html#ae69f658e2fd080c54a78eb23e4be2f59">GSN_FLASH_SPI_FLAG_T</a>&#160;</td>
          <td class="paramname"><em>spiFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00496.html#a501e29be4c0f8b2ab5c186eb8deb8874">GSN_EXTFLASH_CALLBACK_T</a> *&#160;</td>
          <td class="paramname"><em>extFlashCallBack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VOID *&#160;</td>
          <td class="paramname"><em>cbCtx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Erase the external flash memory using poll. </p>
<p>This API erases the contents of external flash 32k block for the given block address.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">gsExtFlashCtx</td><td>- IN external flash context </td></tr>
    <tr><td class="paramname">eraseBlockAddr</td><td>- IN serial flash sector erase address </td></tr>
    <tr><td class="paramname">spiFlag</td><td>- IN spi Polling or DMA flag </td></tr>
    <tr><td class="paramname">extFlashCallBack</td><td>- IN callback </td></tr>
    <tr><td class="paramname">cbCtx</td><td>- IN callback context </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">NA</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="ga62708c304046ad8a906a0152cc3487ba"></a><!-- doxytag: member="gsn_ext_flash_driver.h::GsnExtFlash_64KErase" ref="ga62708c304046ad8a906a0152cc3487ba" args="(GSN_EXTFLASH_CTX_T *gsExtFlashCtx, UINT32 eraseBlockAddr, GSN_FLASH_SPI_FLAG_T spiFlag, GSN_EXTFLASH_CALLBACK_T *extFlashCallBack, VOID *cbCtx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC VOID GsnExtFlash_64KErase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00071.html">GSN_EXTFLASH_CTX_T</a> *&#160;</td>
          <td class="paramname"><em>gsExtFlashCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>&#160;</td>
          <td class="paramname"><em>eraseBlockAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00496.html#ae69f658e2fd080c54a78eb23e4be2f59">GSN_FLASH_SPI_FLAG_T</a>&#160;</td>
          <td class="paramname"><em>spiFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00496.html#a501e29be4c0f8b2ab5c186eb8deb8874">GSN_EXTFLASH_CALLBACK_T</a> *&#160;</td>
          <td class="paramname"><em>extFlashCallBack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VOID *&#160;</td>
          <td class="paramname"><em>cbCtx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Erase the external flash memory using poll. </p>
<p>This API erases the contents of external flash 64k block for the given block address.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">gsExtFlashCtx</td><td>- IN external flash context </td></tr>
    <tr><td class="paramname">eraseBlockAddr</td><td>- IN serial flash sector erase address </td></tr>
    <tr><td class="paramname">spiFlag</td><td>- IN spi Polling or DMA flag </td></tr>
    <tr><td class="paramname">extFlashCallBack</td><td>- IN callback </td></tr>
    <tr><td class="paramname">cbCtx</td><td>- IN callback context </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">NA</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="gafe4645cffc8fea4258121afb22b7710a"></a><!-- doxytag: member="gsn_ext_flash_driver.h::GsnExtFlash_ChipErase" ref="gafe4645cffc8fea4258121afb22b7710a" args="(GSN_EXTFLASH_CTX_T *gsExtFlashCtx, GSN_FLASH_SPI_FLAG_T spiFlag, GSN_EXTFLASH_CALLBACK_T *extFlashCallBack, VOID *cbCtx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC VOID GsnExtFlash_ChipErase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00071.html">GSN_EXTFLASH_CTX_T</a> *&#160;</td>
          <td class="paramname"><em>gsExtFlashCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00496.html#ae69f658e2fd080c54a78eb23e4be2f59">GSN_FLASH_SPI_FLAG_T</a>&#160;</td>
          <td class="paramname"><em>spiFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00496.html#a501e29be4c0f8b2ab5c186eb8deb8874">GSN_EXTFLASH_CALLBACK_T</a> *&#160;</td>
          <td class="paramname"><em>extFlashCallBack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VOID *&#160;</td>
          <td class="paramname"><em>cbCtx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Erase the external flash memory using poll. </p>
<p>This API erases the contents of external flash chip.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">gsExtFlashCtx</td><td>- IN external flash context </td></tr>
    <tr><td class="paramname">spiFlag</td><td>- IN spi Polling or DMA flag </td></tr>
    <tr><td class="paramname">extFlashCallBack</td><td>- IN callback </td></tr>
    <tr><td class="paramname">cbCtx</td><td>- IN callback context </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">NA</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="ga8f346bfff1d200c13547335c5e15ee21"></a><!-- doxytag: member="gsn_ext_flash_driver.h::GsnExtFlash_Erase" ref="ga8f346bfff1d200c13547335c5e15ee21" args="(GSN_EXTFLASH_CTX_T *gsExtFlashCtx, UINT32 eraseSectorAddr, GSN_FLASH_SPI_FLAG_T spiFlag, GSN_EXTFLASH_CALLBACK_T *extFlashCallBack, VOID *cbCtx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC VOID GsnExtFlash_Erase </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00071.html">GSN_EXTFLASH_CTX_T</a> *&#160;</td>
          <td class="paramname"><em>gsExtFlashCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>&#160;</td>
          <td class="paramname"><em>eraseSectorAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00496.html#ae69f658e2fd080c54a78eb23e4be2f59">GSN_FLASH_SPI_FLAG_T</a>&#160;</td>
          <td class="paramname"><em>spiFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00496.html#a501e29be4c0f8b2ab5c186eb8deb8874">GSN_EXTFLASH_CALLBACK_T</a> *&#160;</td>
          <td class="paramname"><em>extFlashCallBack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VOID *&#160;</td>
          <td class="paramname"><em>cbCtx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Erase the external flash memory using poll. </p>
<p>This API erases the contents of external flash sector for the given sector address.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">gsExtFlashCtx</td><td>- IN external flash context </td></tr>
    <tr><td class="paramname">eraseSectorAddr</td><td>- IN serial flash sector erase address </td></tr>
    <tr><td class="paramname">spiFlag</td><td>- IN spi Polling or DMA flag </td></tr>
    <tr><td class="paramname">extFlashCallBack</td><td>- IN callback </td></tr>
    <tr><td class="paramname">cbCtx</td><td>- IN callback context </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">NA</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="gadcfa064597618fbf7cb4c1bac30f4bc8"></a><!-- doxytag: member="gsn_ext_flash_driver.h::GsnExtFlash_Init" ref="gadcfa064597618fbf7cb4c1bac30f4bc8" args="(GSN_EXTFLASH_CTX_T *gsExtFlashCtx, GSN_SPI_NUM_T spiPortNumber, GSN_SPI_CONFIG_T *spiConfig, GSN_FLASH_SPI_FLAG_T spiFlag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC <a class="el" href="a00660.html#ga63021d67d54286c2163bcdb43a6f2569">INT32</a> GsnExtFlash_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00071.html">GSN_EXTFLASH_CTX_T</a> *&#160;</td>
          <td class="paramname"><em>gsExtFlashCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00587.html#a8158d263babcdfe1b3b113e23acd1bf7">GSN_SPI_NUM_T</a>&#160;</td>
          <td class="paramname"><em>spiPortNumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00231.html">GSN_SPI_CONFIG_T</a> *&#160;</td>
          <td class="paramname"><em>spiConfig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00496.html#ae69f658e2fd080c54a78eb23e4be2f59">GSN_FLASH_SPI_FLAG_T</a>&#160;</td>
          <td class="paramname"><em>spiFlag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>serial flash config init. </p>
<p>This function performs the initilization of GSN_SPI_CONFIG_T structure required to access the serial flash in poll mode. API calls GsnSpi_PollOpen() to set the GSN_SPI_CONFIG_T structure values. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">gsExtFlashCtx</td><td>- IN external flash context </td></tr>
    <tr><td class="paramname">spiPortNumber</td><td>- IN spi port number </td></tr>
    <tr><td class="paramname">*spiConfig</td><td>- IN GSN_SPI_CONFIG_T updated strcuture </td></tr>
    <tr><td class="paramname">spiFlag</td><td>- IN spi Polling or DMA flag </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">status</td><td>- IN returns GSN_EXTFLASH_SUCCESS or GSN_EXTFLASH_FAILURE </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function is to demonstrate the serial flash application access in polling mode </dd></dl>

</div>
</div>
<a class="anchor" id="ga969314425ebd66d21301f5e2a681dee3"></a><!-- doxytag: member="gsn_ext_flash_driver.h::GsnExtFlash_Read" ref="ga969314425ebd66d21301f5e2a681dee3" args="(GSN_EXTFLASH_CTX_T *gsExtFlashCtx, UINT32 dataLen, UINT32 readAddr, UINT8 *dataBuf, GSN_FLASH_SPI_FLAG_T spiFlag, GSN_EXTFLASH_CALLBACK_T *extFlashCallBack, VOID *cbCtx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC <a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> GsnExtFlash_Read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00071.html">GSN_EXTFLASH_CTX_T</a> *&#160;</td>
          <td class="paramname"><em>gsExtFlashCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>&#160;</td>
          <td class="paramname"><em>dataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>&#160;</td>
          <td class="paramname"><em>readAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00660.html#gab27e9918b538ce9d8ca692479b375b6a">UINT8</a> *&#160;</td>
          <td class="paramname"><em>dataBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00496.html#ae69f658e2fd080c54a78eb23e4be2f59">GSN_FLASH_SPI_FLAG_T</a>&#160;</td>
          <td class="paramname"><em>spiFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00496.html#a501e29be4c0f8b2ab5c186eb8deb8874">GSN_EXTFLASH_CALLBACK_T</a> *&#160;</td>
          <td class="paramname"><em>extFlashCallBack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VOID *&#160;</td>
          <td class="paramname"><em>cbCtx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>read the external flash memory using poll and DMA. </p>
<p>This API reads the data from external flash starting from address readAddr to dataLen. Read data from flash will be updated in dataBuf. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">gsExtFlashCtx</td><td>- IN external flash context </td></tr>
    <tr><td class="paramname">dataLen</td><td>- IN number of bytes to read </td></tr>
    <tr><td class="paramname">readAddr</td><td>- IN serial flash read address </td></tr>
    <tr><td class="paramname">*dataBuf</td><td>- IN user specified buffer to store the read data from flash </td></tr>
    <tr><td class="paramname">spiFlag</td><td>- IN spi Polling or DMA flag </td></tr>
    <tr><td class="paramname">extFlashCallBack</td><td>- IN callback </td></tr>
    <tr><td class="paramname">cbCtx</td><td>- IN callback context </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">UINT32</td><td>returns the total number of bytes read </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="ga3d33b60e6c2f80993970911c991a899f"></a><!-- doxytag: member="gsn_ext_flash_driver.h::GsnExtFlash_SpiReadWrite" ref="ga3d33b60e6c2f80993970911c991a899f" args="(GSN_SPI_HANDLE_T *spiHandle, UINT32 dataLen, UINT8 *rxBuf, UINT8 *txBuf, GSN_FLASH_SPI_FLAG_T spiFlag, GSN_EXTFLASH_CALLBACK_T *extFlashCallBack, VOID *cbCtx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC <a class="el" href="a00660.html#ga63021d67d54286c2163bcdb43a6f2569">INT32</a> GsnExtFlash_SpiReadWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00238.html">GSN_SPI_HANDLE_T</a> *&#160;</td>
          <td class="paramname"><em>spiHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>&#160;</td>
          <td class="paramname"><em>dataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00660.html#gab27e9918b538ce9d8ca692479b375b6a">UINT8</a> *&#160;</td>
          <td class="paramname"><em>rxBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00660.html#gab27e9918b538ce9d8ca692479b375b6a">UINT8</a> *&#160;</td>
          <td class="paramname"><em>txBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00496.html#ae69f658e2fd080c54a78eb23e4be2f59">GSN_FLASH_SPI_FLAG_T</a>&#160;</td>
          <td class="paramname"><em>spiFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00496.html#a501e29be4c0f8b2ab5c186eb8deb8874">GSN_EXTFLASH_CALLBACK_T</a> *&#160;</td>
          <td class="paramname"><em>extFlashCallBack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VOID *&#160;</td>
          <td class="paramname"><em>cbCtx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>SPI Read Write of data with respect to size. </p>
<p>This function performs the SPI Read Write operation for the given size depending on the SPI flag set for DMA or POLLING method </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">spiHandle</td><td>- IN spi handle </td></tr>
    <tr><td class="paramname">dataLen</td><td>- IN number of data to write and read. </td></tr>
    <tr><td class="paramname">*rxBuf</td><td>- IN user specified buffer to store the read data from flash </td></tr>
    <tr><td class="paramname">*txBuf</td><td>- IN user specified buffer which has data to be written to flash </td></tr>
    <tr><td class="paramname">spiFlag</td><td>- IN spi Polling or DMA flag </td></tr>
    <tr><td class="paramname">extFlashCallBack</td><td>- IN callback </td></tr>
    <tr><td class="paramname">cbCtx</td><td>- IN callback context </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">INT32</td><td>returns success or failure </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="ga1e65016bc9bc6e7f219148b64b94213e"></a><!-- doxytag: member="gsn_ext_flash_driver.h::GsnExtFlash_Write" ref="ga1e65016bc9bc6e7f219148b64b94213e" args="(GSN_EXTFLASH_CTX_T *gsExtFlashCtx, UINT32 dataLen, UINT32 writeAddr, UINT8 *dataBuf, GSN_FLASH_SPI_FLAG_T spiFlag, GSN_EXTFLASH_CALLBACK_T *extFlashCallBack, VOID *cbCtx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PUBLIC <a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> GsnExtFlash_Write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00071.html">GSN_EXTFLASH_CTX_T</a> *&#160;</td>
          <td class="paramname"><em>gsExtFlashCtx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>&#160;</td>
          <td class="paramname"><em>dataLen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>&#160;</td>
          <td class="paramname"><em>writeAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00660.html#gab27e9918b538ce9d8ca692479b375b6a">UINT8</a> *&#160;</td>
          <td class="paramname"><em>dataBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00496.html#ae69f658e2fd080c54a78eb23e4be2f59">GSN_FLASH_SPI_FLAG_T</a>&#160;</td>
          <td class="paramname"><em>spiFlag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00496.html#a501e29be4c0f8b2ab5c186eb8deb8874">GSN_EXTFLASH_CALLBACK_T</a> *&#160;</td>
          <td class="paramname"><em>extFlashCallBack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VOID *&#160;</td>
          <td class="paramname"><em>cbCtx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>page boundary calculation to write data on the external flash memory. </p>
<p>To write the data , page boundary caluclations are required. For one write cycle its possible to to write 256 bytes of data. Because of this limitation page boundary calculations are done before writing the data to the flash.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">gsExtFlashCtx</td><td>- IN external flash context </td></tr>
    <tr><td class="paramname">dataLen</td><td>- IN number of bytes to read </td></tr>
    <tr><td class="paramname">writeAddr</td><td>- IN serial flash write address </td></tr>
    <tr><td class="paramname">dataBuf</td><td>- IN user specified buffer to store the read data from flash </td></tr>
    <tr><td class="paramname">spiFlag</td><td>- IN spi Polling or DMA flag </td></tr>
    <tr><td class="paramname">extFlashCallBack</td><td>- IN callback </td></tr>
    <tr><td class="paramname">cbCtx</td><td>- IN callback context </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table class="retval">
    <tr><td class="paramname">UINT32</td><td>returns the total number of bytes written </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd></dd></dl>

</div>
</div>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">Generated on Tue May 13 2014 11:12:09 for GEPS 5.1.0 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
