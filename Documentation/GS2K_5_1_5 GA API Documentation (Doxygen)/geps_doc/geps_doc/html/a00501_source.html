<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript">
$(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<title>GEPS Documentation</title>
<table style="text-align: left; height: 28px; width: 710px;" border="0" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="width: 360px;" align="center" valign="middle"><img style="width: 300px; height: 82px;" alt="GainSpan" src="GainSpan_logo_hi-res.jpg"><br><span style="font-family: Verdana; font-style: italic;">Gainspan Embedded Platform Software</span></td>
<td style="width: 202px;" align="center" valign="middle"></td>
<td style="width: 120px;" align="center" valign="middle"><br></td>
</tr>
</tbody>
</table>
<br>
</head>

<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Groups</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('a00501.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">gsn_flash_if.h</div>  </div>
</div>
<div class="contents">
<a href="a00501.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/******************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">*</span>
<a name="l00003"></a>00003 <span class="comment">*               COPYRIGHT (c) 2012-2013 GainSpan Corporation</span>
<a name="l00004"></a>00004 <span class="comment">*                         All Rights Reserved</span>
<a name="l00005"></a>00005 <span class="comment">*</span>
<a name="l00006"></a>00006 <span class="comment">* The source code contained or described herein and all documents</span>
<a name="l00007"></a>00007 <span class="comment">* related to the source code (&quot;Material&quot;) are owned by GainSpan</span>
<a name="l00008"></a>00008 <span class="comment">* Corporation or its licensors.  Title to the Material remains</span>
<a name="l00009"></a>00009 <span class="comment">* with GainSpan Corporation or its suppliers and licensors.</span>
<a name="l00010"></a>00010 <span class="comment">*</span>
<a name="l00011"></a>00011 <span class="comment">* The Material is protected by worldwide copyright and trade secret</span>
<a name="l00012"></a>00012 <span class="comment">* laws and treaty provisions. No part of the Material may be used,</span>
<a name="l00013"></a>00013 <span class="comment">* copied, reproduced, modified, published, uploaded, posted, transmitted,</span>
<a name="l00014"></a>00014 <span class="comment">* distributed, or disclosed in any way except in accordance with the</span>
<a name="l00015"></a>00015 <span class="comment">* applicable license agreement.</span>
<a name="l00016"></a>00016 <span class="comment">*</span>
<a name="l00017"></a>00017 <span class="comment">* No license under any patent, copyright, trade secret or other</span>
<a name="l00018"></a>00018 <span class="comment">* intellectual property right is granted to or conferred upon you by</span>
<a name="l00019"></a>00019 <span class="comment">* disclosure or delivery of the Materials, either expressly, by</span>
<a name="l00020"></a>00020 <span class="comment">* implication, inducement, estoppel, except in accordance with the</span>
<a name="l00021"></a>00021 <span class="comment">* applicable license agreement.</span>
<a name="l00022"></a>00022 <span class="comment">*</span>
<a name="l00023"></a>00023 <span class="comment">* Unless otherwise agreed by GainSpan in writing, you may not remove or</span>
<a name="l00024"></a>00024 <span class="comment">* alter this notice or any other notice embedded in Materials by GainSpan</span>
<a name="l00025"></a>00025 <span class="comment">* or GainSpan&#39;s suppliers or licensors in any way.</span>
<a name="l00026"></a>00026 <span class="comment">*</span>
<a name="l00027"></a>00027 <span class="comment">* $RCSfile: gsn_flash_if.h,v $</span>
<a name="l00028"></a>00028 <span class="comment">*</span>
<a name="l00029"></a>00029 <span class="comment">* Description : This file contains public definitions for Flash IF driver.</span>
<a name="l00030"></a>00030 <span class="comment">******************************************************************************/</span>
<a name="l00031"></a>00031 <span class="preprocessor">#ifndef _GSN_FLASH_IF_H_</span>
<a name="l00032"></a>00032 <span class="preprocessor"></span><span class="preprocessor">#define _GSN_FLASH_IF_H_</span>
<a name="l00033"></a>00033 <span class="preprocessor"></span><span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00034"></a>00034 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {
<a name="l00035"></a>00035 <span class="preprocessor">#endif</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span>
<a name="l00037"></a>00037 <span class="comment">/*****************************************************************************</span>
<a name="l00038"></a>00038 <span class="comment"> * File Inclusion</span>
<a name="l00039"></a>00039 <span class="comment">*****************************************************************************/</span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &quot;<a class="code" href="a00599.html" title="GSN Basic types. This file contains the basic types.">gsn_types.h</a>&quot;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &quot;<a class="code" href="a00481.html" title="GSN General Definitions. This file contains general definitions.">gsn_defines.h</a>&quot;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &quot;<a class="code" href="a00493.html" title="GSN Error Codes. This file contains the error codes used throughout the GSN software.">gsn_error.h</a>&quot;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &quot;<a class="code" href="a00476.html" title="GSN Macros public header.">gsn_bitfield_macros.h</a>&quot;</span>
<a name="l00044"></a>00044   
<a name="l00045"></a>00045 <span class="preprocessor">#include &quot;<a class="code" href="a00563.html">core\reg\gsn_reg_op.h</a>&quot;</span>
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="preprocessor">#include &quot;<a class="code" href="a00552.html">drivers\reg\gsn_reg_flashif_spec.h</a>&quot;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &quot;<a class="code" href="a00551.html">drivers\reg\gsn_reg_flashif_op.h</a>&quot;</span>
<a name="l00049"></a>00049 
<a name="l00077"></a>00077 <span class="comment">/*****************************************************************************</span>
<a name="l00078"></a>00078 <span class="comment"> * MACROS </span>
<a name="l00079"></a>00079 <span class="comment"> ****************************************************************************/</span>
<a name="l00080"></a>00080 
<a name="l00081"></a><a class="code" href="a00501.html#a3a6d61a1bfa4bbe3f67b3932cf5a2f43">00081</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_SUBSECTOR_SIZE    0x1000      </span><span class="comment">/* 4KB */</span>
<a name="l00082"></a><a class="code" href="a00501.html#ac3666fef80e278fcf941e4bb6d09c71a">00082</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_SECTOR_SIZE       0x10000     </span><span class="comment">/* 64KB */</span>
<a name="l00083"></a><a class="code" href="a00501.html#aa0142f103c81f61725f292bbe3011531">00083</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_PAGE_SIZE         0x100       </span><span class="comment">/* 256B */</span>
<a name="l00084"></a>00084 
<a name="l00085"></a><a class="code" href="a00501.html#aefc555c38511d4a072fcd5a4a6df00d5">00085</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_SUBSECTOR_INDEX_TO_ADDR(subsectorIndex) \</span>
<a name="l00086"></a>00086 <span class="preprocessor">        ((subsectorIndex) * GSN_FLASHIF_FLASH_SUBSECTOR_SIZE)</span>
<a name="l00087"></a>00087 <span class="preprocessor"></span>        
<a name="l00088"></a><a class="code" href="a00501.html#a24325d9d6b609d61108779b248b0ddaa">00088</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_SECTOR_INDEX_TO_ADDR(sectorIndex) \</span>
<a name="l00089"></a>00089 <span class="preprocessor">            ((sectorIndex) * GSN_FLASHIF_FLASH_SECTOR_SIZE)</span>
<a name="l00090"></a>00090 <span class="preprocessor"></span>
<a name="l00091"></a><a class="code" href="a00501.html#afbf57cb7ab68e072618c64e3f5710edc">00091</a> <span class="preprocessor">#define GSN_FLASHIF_DELAY   10</span>
<a name="l00092"></a>00092 <span class="preprocessor"></span>
<a name="l00100"></a><a class="code" href="a00647.html#gaaf02993c8f105b4a90a6b27ef19dae0f">00100</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="a00647.html#gaaf02993c8f105b4a90a6b27ef19dae0f" title="Gsn FlashIf PIO Enum for Dir Read and Write. This enum defines FlashIf PIO Dir Read and Write...">GSN_FLASHIF_PIO_CTL_DIR_E</a>
<a name="l00101"></a>00101 {
<a name="l00102"></a><a class="code" href="a00647.html#ggaaf02993c8f105b4a90a6b27ef19dae0fafe8b742258651fa64d0b4c4012346bda">00102</a>     <a class="code" href="a00647.html#ggaaf02993c8f105b4a90a6b27ef19dae0fafe8b742258651fa64d0b4c4012346bda">GSN_FLASHIF_PIO_CTL_DIR_READ</a> = 0,
<a name="l00103"></a><a class="code" href="a00647.html#ggaaf02993c8f105b4a90a6b27ef19dae0faf5c50092b2e7d13c595cf3c2e0723aaa">00103</a>     <a class="code" href="a00647.html#ggaaf02993c8f105b4a90a6b27ef19dae0faf5c50092b2e7d13c595cf3c2e0723aaa">GSN_FLASHIF_PIO_CTL_DIR_WRITE</a> = 1
<a name="l00104"></a>00104 } <a class="code" href="a00647.html#gad02bc7e7274fd3ba828e7ed35c282eaf" title="Gsn FlashIf PIO Enum for Dir Read and Write. This enum defines FlashIf PIO Dir Read and Write...">GSN_FLASHIF_PIO_CTL_DIR_T</a>;
<a name="l00105"></a>00105 
<a name="l00113"></a><a class="code" href="a00647.html#ga21630134ac87b1ff38712e4f4c0b4a4e">00113</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="a00647.html#ga21630134ac87b1ff38712e4f4c0b4a4e" title="Gsn FlashIf PIO Enum for Dummy bytes. This enum defines FlashIf PIO zero, nonzero dummy bytes...">GSN_FLASHIF_PIO_CTL_DUMMYBYTES_E</a>
<a name="l00114"></a>00114 {
<a name="l00115"></a><a class="code" href="a00647.html#gga21630134ac87b1ff38712e4f4c0b4a4eaecca8709c0b664eeabca124be5cb94e2">00115</a>     <a class="code" href="a00647.html#gga21630134ac87b1ff38712e4f4c0b4a4eaecca8709c0b664eeabca124be5cb94e2">GSN_FLASHIF_PIO_CTL_DUMMYBYTES_ZERO</a> = 0,
<a name="l00116"></a><a class="code" href="a00647.html#gga21630134ac87b1ff38712e4f4c0b4a4ea9994e4e9597b9fbf54d26239248e08c2">00116</a>     <a class="code" href="a00647.html#gga21630134ac87b1ff38712e4f4c0b4a4ea9994e4e9597b9fbf54d26239248e08c2">GSN_FLASHIF_PIO_CTL_DUMMYBYTES_NONZERO</a> = 1
<a name="l00117"></a>00117 } <a class="code" href="a00647.html#gad29e842797fae82ccad1e80f4fc97a1c" title="Gsn FlashIf PIO Enum for Dummy bytes. This enum defines FlashIf PIO zero, nonzero dummy bytes...">GSN_FLASHIF_PIO_CTL_DUMMYBYTES_T</a>;
<a name="l00118"></a>00118 
<a name="l00126"></a><a class="code" href="a00647.html#gad00f759b28a1db7a281e681f949cd164">00126</a> <span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="a00647.html#gad00f759b28a1db7a281e681f949cd164" title="Gsn FlashIf Enum for FLASH BITLANE. This enum defines flash bitlane.">GSN_FLASHIF_FLASH_BITLANE_E</a>
<a name="l00127"></a>00127 {
<a name="l00128"></a><a class="code" href="a00647.html#ggad00f759b28a1db7a281e681f949cd164a82324c677576b831a7a6306b1ea3466d">00128</a>     <a class="code" href="a00647.html#ggad00f759b28a1db7a281e681f949cd164a82324c677576b831a7a6306b1ea3466d">GSN_FLASHIF_FLASH_BITLANES_1</a> = 0,
<a name="l00129"></a><a class="code" href="a00647.html#ggad00f759b28a1db7a281e681f949cd164ad2aecd6be0e0851d10f33a12223b4cd7">00129</a>     <a class="code" href="a00647.html#ggad00f759b28a1db7a281e681f949cd164ad2aecd6be0e0851d10f33a12223b4cd7">GSN_FLASHIF_FLASH_BITLANES_2</a> = 1,
<a name="l00130"></a><a class="code" href="a00647.html#ggad00f759b28a1db7a281e681f949cd164a7e743bb40684d8ff42f8503216dcc6c6">00130</a>     <a class="code" href="a00647.html#ggad00f759b28a1db7a281e681f949cd164a7e743bb40684d8ff42f8503216dcc6c6">GSN_FLASHIF_FLASH_BITLANES_4</a> = 2
<a name="l00131"></a>00131     
<a name="l00132"></a>00132 } <a class="code" href="a00647.html#gaf1a2041a13f5df83afd39cc00dd1f5c0" title="Gsn FlashIf Enum for FLASH BITLANE. This enum defines flash bitlane.">GSN_FLASHIF_FLASH_BITLANE_T</a>;
<a name="l00133"></a>00133 
<a name="l00134"></a>00134 
<a name="l00135"></a><a class="code" href="a00501.html#a4649957b3872f85bd4ef576eb9b3870e">00135</a> <span class="preprocessor">#define GSN_FLASHIF_PIO_CTL_WORD_SIZE   sizeof(UINT32)</span>
<a name="l00136"></a>00136 <span class="preprocessor"></span>
<a name="l00137"></a>00137 <a class="code" href="a00657.html#ga4af6407b36a81973e93a80026461312d" title="Create a bitfield.">CREATE_BITFIELD</a>(FLASHIF_PIO_CTL_DIR, 0, 0);    <span class="comment">/* 1-bit direction; 0-read, 1-write */</span>
<a name="l00138"></a>00138 <a class="code" href="a00657.html#ga4af6407b36a81973e93a80026461312d" title="Create a bitfield.">CREATE_BITFIELD</a>(FLASHIF_PIO_CTL_CMD_BYTECOUNT, 1, 2);    <span class="comment">/* 2-bit cmd byte count */</span>
<a name="l00139"></a>00139 <a class="code" href="a00657.html#ga4af6407b36a81973e93a80026461312d" title="Create a bitfield.">CREATE_BITFIELD</a>(FLASHIF_PIO_CTL_ADDR_BYTECOUNT, 3, 5);    <span class="comment">/* 3-bit addr byte count */</span>
<a name="l00140"></a>00140 <a class="code" href="a00657.html#ga4af6407b36a81973e93a80026461312d" title="Create a bitfield.">CREATE_BITFIELD</a>(FLASHIF_PIO_CTL_DUMMYBYTES_NONZERO, 6, 6);    <span class="comment">/* 1-bit dummy bytes type; 0-zero,1-nonzero */</span>
<a name="l00141"></a>00141 <a class="code" href="a00657.html#ga4af6407b36a81973e93a80026461312d" title="Create a bitfield.">CREATE_BITFIELD</a>(FLASHIF_PIO_CTL_DUMMYCOUNT_CYCLES, 7, 7);   <span class="comment">/* 1-bit dummy type; 0-bytes,1-cycles */</span>
<a name="l00142"></a>00142 <a class="code" href="a00657.html#ga4af6407b36a81973e93a80026461312d" title="Create a bitfield.">CREATE_BITFIELD</a>(FLASHIF_PIO_CTL_CMD_BITLANES, 8, 9);    <span class="comment">/* 2-bit cmd bitlanes */</span>
<a name="l00143"></a>00143 <a class="code" href="a00657.html#ga4af6407b36a81973e93a80026461312d" title="Create a bitfield.">CREATE_BITFIELD</a>(FLASHIF_PIO_CTL_ADDR_BITLANES, 10, 11);    <span class="comment">/* 2-bit addr bitlanes */</span>
<a name="l00144"></a>00144 <a class="code" href="a00657.html#ga4af6407b36a81973e93a80026461312d" title="Create a bitfield.">CREATE_BITFIELD</a>(FLASHIF_PIO_CTL_DUMMY_BITLANES, 12, 13);    <span class="comment">/* 2-bit dummy bitlanes */</span>
<a name="l00145"></a>00145 <a class="code" href="a00657.html#ga4af6407b36a81973e93a80026461312d" title="Create a bitfield.">CREATE_BITFIELD</a>(FLASHIF_PIO_CTL_DATA_BITLANES, 14, 15);    <span class="comment">/* 2-bit data bitlanes */</span>
<a name="l00146"></a>00146 <a class="code" href="a00657.html#ga4af6407b36a81973e93a80026461312d" title="Create a bitfield.">CREATE_BITFIELD</a>(FLASHIF_PIO_CTL_DUMMYBYTES_NUM, 16, 23);    <span class="comment">/* 8-bit dummy bytes */</span>
<a name="l00147"></a>00147 <a class="code" href="a00657.html#ga4af6407b36a81973e93a80026461312d" title="Create a bitfield.">CREATE_BITFIELD</a>(FLASHIF_PIO_CTL_UNUSED2, 24, 31);    <span class="comment">/* 8-bit unused */</span>
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 
<a name="l00150"></a><a class="code" href="a00501.html#a48db0a1a6487d75cc26e47b6ed5aa530">00150</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_REG_READ_CTL_WORD \</span>
<a name="l00151"></a>00151 <span class="preprocessor">        MAKE_BITFIELD(FLASHIF_PIO_CTL_DIR, GSN_FLASHIF_PIO_CTL_DIR_READ) \</span>
<a name="l00152"></a>00152 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BYTECOUNT, 1) \</span>
<a name="l00153"></a>00153 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BYTECOUNT, 0) \</span>
<a name="l00154"></a>00154 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NONZERO, 0) \</span>
<a name="l00155"></a>00155 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYCOUNT_CYCLES, 0) \</span>
<a name="l00156"></a>00156 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BITLANES, 0) \</span>
<a name="l00157"></a>00157 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BITLANES, 0) \</span>
<a name="l00158"></a>00158 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMY_BITLANES, 0) \</span>
<a name="l00159"></a>00159 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DATA_BITLANES, 0) \</span>
<a name="l00160"></a>00160 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NUM, 0) \</span>
<a name="l00161"></a>00161 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_UNUSED2, 0)</span>
<a name="l00162"></a>00162 <span class="preprocessor"></span>
<a name="l00163"></a><a class="code" href="a00501.html#a33e15dee99ee2bf69a56f4b01787c0c3">00163</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_REG_WRITE_CTL_WORD \</span>
<a name="l00164"></a>00164 <span class="preprocessor">        MAKE_BITFIELD(FLASHIF_PIO_CTL_DIR, GSN_FLASHIF_PIO_CTL_DIR_WRITE) \</span>
<a name="l00165"></a>00165 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BYTECOUNT, 1) \</span>
<a name="l00166"></a>00166 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BYTECOUNT, 0) \</span>
<a name="l00167"></a>00167 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NONZERO, 0) \</span>
<a name="l00168"></a>00168 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYCOUNT_CYCLES, 0) \</span>
<a name="l00169"></a>00169 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BITLANES, 0) \</span>
<a name="l00170"></a>00170 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BITLANES, 0) \</span>
<a name="l00171"></a>00171 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMY_BITLANES, 0) \</span>
<a name="l00172"></a>00172 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DATA_BITLANES, 0) \</span>
<a name="l00173"></a>00173 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NUM, 0) \</span>
<a name="l00174"></a>00174 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_UNUSED2, 0)</span>
<a name="l00175"></a>00175 <span class="preprocessor"></span>
<a name="l00176"></a><a class="code" href="a00501.html#af14e1b5c6e46794277b498c70f9be271">00176</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_CMD_ADDR_WRITE_CTL_WORD \</span>
<a name="l00177"></a>00177 <span class="preprocessor">        MAKE_BITFIELD(FLASHIF_PIO_CTL_DIR, GSN_FLASHIF_PIO_CTL_DIR_WRITE) \</span>
<a name="l00178"></a>00178 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BYTECOUNT, 1) \</span>
<a name="l00179"></a>00179 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BYTECOUNT, 3) \</span>
<a name="l00180"></a>00180 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NONZERO, 0) \</span>
<a name="l00181"></a>00181 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYCOUNT_CYCLES, 0) \</span>
<a name="l00182"></a>00182 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BITLANES, 0) \</span>
<a name="l00183"></a>00183 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BITLANES, 0) \</span>
<a name="l00184"></a>00184 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMY_BITLANES, 0) \</span>
<a name="l00185"></a>00185 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DATA_BITLANES, 0) \</span>
<a name="l00186"></a>00186 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NUM, 0) \</span>
<a name="l00187"></a>00187 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_UNUSED2, 0)</span>
<a name="l00188"></a>00188 <span class="preprocessor"></span>
<a name="l00189"></a><a class="code" href="a00501.html#af38bcd1228c1bb46d9d949bb2c207027">00189</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_CMD_ADDR_WRITE4X_CTL_WORD \</span>
<a name="l00190"></a>00190 <span class="preprocessor">        MAKE_BITFIELD(FLASHIF_PIO_CTL_DIR, GSN_FLASHIF_PIO_CTL_DIR_WRITE) \</span>
<a name="l00191"></a>00191 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BYTECOUNT, 1) \</span>
<a name="l00192"></a>00192 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BYTECOUNT, 3) \</span>
<a name="l00193"></a>00193 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NONZERO, 0) \</span>
<a name="l00194"></a>00194 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYCOUNT_CYCLES, 0) \</span>
<a name="l00195"></a>00195 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BITLANES, 0) \</span>
<a name="l00196"></a>00196 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BITLANES, 0) \</span>
<a name="l00197"></a>00197 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMY_BITLANES, 0) \</span>
<a name="l00198"></a>00198 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DATA_BITLANES, 4) \</span>
<a name="l00199"></a>00199 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NUM, 0) \</span>
<a name="l00200"></a>00200 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_UNUSED2, 0)</span>
<a name="l00201"></a>00201 <span class="preprocessor"></span>
<a name="l00202"></a><a class="code" href="a00501.html#ae7096c4b9fdda3ba1d4ea1c604c99286">00202</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_READ_CTL_WORD \</span>
<a name="l00203"></a>00203 <span class="preprocessor">        MAKE_BITFIELD(FLASHIF_PIO_CTL_DIR, GSN_FLASHIF_PIO_CTL_DIR_READ) \</span>
<a name="l00204"></a>00204 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BYTECOUNT, 1) \</span>
<a name="l00205"></a>00205 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BYTECOUNT, 3) \</span>
<a name="l00206"></a>00206 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NONZERO, 0) \</span>
<a name="l00207"></a>00207 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYCOUNT_CYCLES, 1) \</span>
<a name="l00208"></a>00208 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BITLANES, 0) \</span>
<a name="l00209"></a>00209 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BITLANES, 0) \</span>
<a name="l00210"></a>00210 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMY_BITLANES, 0) \</span>
<a name="l00211"></a>00211 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DATA_BITLANES, 0) \</span>
<a name="l00212"></a>00212 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NUM, 0) \</span>
<a name="l00213"></a>00213 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_UNUSED2, 0)</span>
<a name="l00214"></a>00214 <span class="preprocessor"></span>
<a name="l00215"></a><a class="code" href="a00501.html#a8acd7420fe3b33fb01890420fda65a46">00215</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_FASTREAD_CTL_WORD \</span>
<a name="l00216"></a>00216 <span class="preprocessor">        MAKE_BITFIELD(FLASHIF_PIO_CTL_DIR, GSN_FLASHIF_PIO_CTL_DIR_READ) \</span>
<a name="l00217"></a>00217 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BYTECOUNT, 1) \</span>
<a name="l00218"></a>00218 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BYTECOUNT, 3) \</span>
<a name="l00219"></a>00219 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NONZERO, 0) \</span>
<a name="l00220"></a>00220 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYCOUNT_CYCLES, 1) \</span>
<a name="l00221"></a>00221 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BITLANES, 0) \</span>
<a name="l00222"></a>00222 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BITLANES, 0) \</span>
<a name="l00223"></a>00223 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMY_BITLANES, 0) \</span>
<a name="l00224"></a>00224 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DATA_BITLANES, 0) \</span>
<a name="l00225"></a>00225 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NUM, 8) \</span>
<a name="l00226"></a>00226 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_UNUSED2, 0)</span>
<a name="l00227"></a>00227 <span class="preprocessor"></span>
<a name="l00228"></a><a class="code" href="a00501.html#a1064f47413205b627537f5b62089f921">00228</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_QUADREAD_CTL_WORD \</span>
<a name="l00229"></a>00229 <span class="preprocessor">        MAKE_BITFIELD(FLASHIF_PIO_CTL_DIR, GSN_FLASHIF_PIO_CTL_DIR_READ) \</span>
<a name="l00230"></a>00230 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BYTECOUNT, 1) \</span>
<a name="l00231"></a>00231 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BYTECOUNT, 3) \</span>
<a name="l00232"></a>00232 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NONZERO, 0) \</span>
<a name="l00233"></a>00233 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYCOUNT_CYCLES, 1) \</span>
<a name="l00234"></a>00234 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BITLANES, 0) \</span>
<a name="l00235"></a>00235 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BITLANES, 2) \</span>
<a name="l00236"></a>00236 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMY_BITLANES, 2) \</span>
<a name="l00237"></a>00237 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DATA_BITLANES, 2) \</span>
<a name="l00238"></a>00238 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NUM, 10) \</span>
<a name="l00239"></a>00239 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_UNUSED2, 0)</span>
<a name="l00240"></a>00240 <span class="preprocessor"></span>
<a name="l00241"></a><a class="code" href="a00501.html#a82c4245515ddf32d66c496d5c01545c8">00241</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_DEEPPWRDOWNREL_CTL_WORD \</span>
<a name="l00242"></a>00242 <span class="preprocessor">        MAKE_BITFIELD(FLASHIF_PIO_CTL_DIR, GSN_FLASHIF_PIO_CTL_DIR_READ) \</span>
<a name="l00243"></a>00243 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BYTECOUNT, 1) \</span>
<a name="l00244"></a>00244 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BYTECOUNT, 0) \</span>
<a name="l00245"></a>00245 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NONZERO, 0) \</span>
<a name="l00246"></a>00246 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYCOUNT_CYCLES, 0) \</span>
<a name="l00247"></a>00247 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BITLANES, 0) \</span>
<a name="l00248"></a>00248 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BITLANES, 0) \</span>
<a name="l00249"></a>00249 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMY_BITLANES, 0) \</span>
<a name="l00250"></a>00250 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DATA_BITLANES, 0) \</span>
<a name="l00251"></a>00251 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NUM, 0) \</span>
<a name="l00252"></a>00252 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_UNUSED2, 0)</span>
<a name="l00253"></a>00253 <span class="preprocessor"></span>
<a name="l00263"></a><a class="code" href="a00080.html">00263</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="a00080.html" title="Gsn FlashIf DMA control structure.">GSN_FLASHIF_DMACTL_S</a>
<a name="l00264"></a>00264 {
<a name="l00265"></a><a class="code" href="a00080.html#ab439248638d21e4206cbcf99b82a1363">00265</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="a00080.html#ab439248638d21e4206cbcf99b82a1363">dir</a>             : 1;
<a name="l00266"></a><a class="code" href="a00080.html#ad34d27c213b62c55610918476e3d4ea9">00266</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="a00080.html#ad34d27c213b62c55610918476e3d4ea9">cmdByteCount</a>    : 2;
<a name="l00267"></a><a class="code" href="a00080.html#a65a1735cd77a36302c9cadfa1b1a2f17">00267</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="a00080.html#a65a1735cd77a36302c9cadfa1b1a2f17">addrByteCount</a>   : 3;
<a name="l00268"></a><a class="code" href="a00080.html#abbd697f4944fb9099180431841727d57">00268</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="a00080.html#abbd697f4944fb9099180431841727d57">dummyBytesNonZero</a> : 1;
<a name="l00269"></a><a class="code" href="a00080.html#afd1b19aa3a7ccfe803814c9f9c9a6267">00269</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="a00080.html#afd1b19aa3a7ccfe803814c9f9c9a6267">dummyCycleCount</a> : 1;
<a name="l00270"></a><a class="code" href="a00080.html#a56e303db1c31bae569294ce41ce90c60">00270</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="a00080.html#a56e303db1c31bae569294ce41ce90c60">cmdBitlanes</a>     : 2;
<a name="l00271"></a><a class="code" href="a00080.html#ac20b4d704a60073489c4a1369c753f88">00271</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="a00080.html#ac20b4d704a60073489c4a1369c753f88">addrBitlanes</a>    : 2;
<a name="l00272"></a><a class="code" href="a00080.html#a75caed3fbf287dd4f43892f6af082cb4">00272</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="a00080.html#a75caed3fbf287dd4f43892f6af082cb4">dummyBitlanes</a>   : 2;
<a name="l00273"></a><a class="code" href="a00080.html#a6e4d0162b5d0af605625e4e5ff0bb07f">00273</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="a00080.html#a6e4d0162b5d0af605625e4e5ff0bb07f">dataBitlanes</a>    : 2;
<a name="l00274"></a><a class="code" href="a00080.html#a21d61166cb8456ab28a25eb4f6f81a99">00274</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="a00080.html#a21d61166cb8456ab28a25eb4f6f81a99">dummyByteCount</a>  : 8;
<a name="l00275"></a><a class="code" href="a00080.html#a2c3ace150ddcb10d297a6d30b67d6330">00275</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="a00080.html#a2c3ace150ddcb10d297a6d30b67d6330">unused</a>          : 8;
<a name="l00276"></a>00276     
<a name="l00277"></a>00277 } <a class="code" href="a00647.html#ga3191e2eabef0c8e1b95922431d75565f" title="Gsn FlashIf DMA control structure.">GSN_FLASHIF_DMACTL_T</a>;
<a name="l00278"></a>00278 
<a name="l00279"></a>00279 <span class="comment">/* DMA control word - fast read */</span>
<a name="l00280"></a><a class="code" href="a00501.html#a329a28a5b24cbcebf1677492a510b8a9">00280</a> <span class="preprocessor">#define GSN_FLASHIF_DMA_READ_CTL_WORD \</span>
<a name="l00281"></a>00281 <span class="preprocessor">    MAKE_BITFIELD(FLASHIF_PIO_CTL_DIR, GSN_FLASHIF_PIO_CTL_DIR_READ) \</span>
<a name="l00282"></a>00282 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BYTECOUNT, 1) \</span>
<a name="l00283"></a>00283 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BYTECOUNT, 3) \</span>
<a name="l00284"></a>00284 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NONZERO, 0) \</span>
<a name="l00285"></a>00285 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYCOUNT_CYCLES, 1) \</span>
<a name="l00286"></a>00286 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BITLANES, 0) \</span>
<a name="l00287"></a>00287 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BITLANES, 0) \</span>
<a name="l00288"></a>00288 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMY_BITLANES, 0) \</span>
<a name="l00289"></a>00289 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_DATA_BITLANES, 0) \</span>
<a name="l00290"></a>00290 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NUM, 0) \</span>
<a name="l00291"></a>00291 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_UNUSED2, 0)</span>
<a name="l00292"></a>00292 <span class="preprocessor"></span>
<a name="l00293"></a>00293 <span class="comment">/* DMA control word - fast read */</span>
<a name="l00294"></a><a class="code" href="a00501.html#ad74448da0c4a43b719fb51724b212002">00294</a> <span class="preprocessor">#define GSN_FLASHIF_DMA_FASTREAD_CTL_WORD \</span>
<a name="l00295"></a>00295 <span class="preprocessor">    MAKE_BITFIELD(FLASHIF_PIO_CTL_DIR, GSN_FLASHIF_PIO_CTL_DIR_READ) \</span>
<a name="l00296"></a>00296 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BYTECOUNT, 1) \</span>
<a name="l00297"></a>00297 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BYTECOUNT, 3) \</span>
<a name="l00298"></a>00298 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NONZERO, 0) \</span>
<a name="l00299"></a>00299 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYCOUNT_CYCLES, 1) \</span>
<a name="l00300"></a>00300 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BITLANES, 0) \</span>
<a name="l00301"></a>00301 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BITLANES, 0) \</span>
<a name="l00302"></a>00302 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMY_BITLANES, 0) \</span>
<a name="l00303"></a>00303 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_DATA_BITLANES, 0) \</span>
<a name="l00304"></a>00304 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NUM, 1) \</span>
<a name="l00305"></a>00305 <span class="preprocessor">    | MAKE_BITFIELD(FLASHIF_PIO_CTL_UNUSED2, 0)</span>
<a name="l00306"></a>00306 <span class="preprocessor"></span>
<a name="l00307"></a>00307 <span class="comment">/* DMA control word - quad fast read */</span>
<a name="l00308"></a><a class="code" href="a00501.html#ae7913b164750c89b5861527237f86968">00308</a> <span class="preprocessor">#define GSN_FLASHIF_DMA_QUADREAD_CTL_WORD \</span>
<a name="l00309"></a>00309 <span class="preprocessor">        MAKE_BITFIELD(FLASHIF_PIO_CTL_DIR, GSN_FLASHIF_PIO_CTL_DIR_READ) \</span>
<a name="l00310"></a>00310 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BYTECOUNT, 1) \</span>
<a name="l00311"></a>00311 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BYTECOUNT, 3) \</span>
<a name="l00312"></a>00312 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NONZERO, 0) \</span>
<a name="l00313"></a>00313 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYCOUNT_CYCLES, 1) \</span>
<a name="l00314"></a>00314 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BITLANES, 0) \</span>
<a name="l00315"></a>00315 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BITLANES, 2) \</span>
<a name="l00316"></a>00316 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMY_BITLANES, 2) \</span>
<a name="l00317"></a>00317 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DATA_BITLANES, 2) \</span>
<a name="l00318"></a>00318 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NUM, 10) \</span>
<a name="l00319"></a>00319 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_UNUSED2, 0)</span>
<a name="l00320"></a><a class="code" href="a00501.html#a6b34a4b3658f6bb4275412db19e2f597">00320</a> <span class="preprocessor"></span><span class="preprocessor">#define GSN_FLASHIF_DMA_QUADREAD_CTL_WORD_6DUMMYCYCLES \</span>
<a name="l00321"></a>00321 <span class="preprocessor">        MAKE_BITFIELD(FLASHIF_PIO_CTL_DIR, GSN_FLASHIF_PIO_CTL_DIR_READ) \</span>
<a name="l00322"></a>00322 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BYTECOUNT, 1) \</span>
<a name="l00323"></a>00323 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BYTECOUNT, 3) \</span>
<a name="l00324"></a>00324 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NONZERO, 0) \</span>
<a name="l00325"></a>00325 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYCOUNT_CYCLES, 1) \</span>
<a name="l00326"></a>00326 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_CMD_BITLANES, 0) \</span>
<a name="l00327"></a>00327 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_ADDR_BITLANES, 2) \</span>
<a name="l00328"></a>00328 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMY_BITLANES, 2) \</span>
<a name="l00329"></a>00329 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DATA_BITLANES, 2) \</span>
<a name="l00330"></a>00330 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_DUMMYBYTES_NUM, 6) \</span>
<a name="l00331"></a>00331 <span class="preprocessor">        | MAKE_BITFIELD(FLASHIF_PIO_CTL_UNUSED2, 0)</span>
<a name="l00332"></a>00332 <span class="preprocessor"></span>
<a name="l00342"></a><a class="code" href="a00078.html">00342</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="a00078.html" title="Gsn FlashIf Config structure.">GSN_FLASHIF_CFG_S</a>
<a name="l00343"></a>00343 {
<a name="l00344"></a><a class="code" href="a00078.html#a11aeead5cc672407bce9c0447137dccf">00344</a>     <a class="code" href="a00080.html" title="Gsn FlashIf DMA control structure.">GSN_FLASHIF_DMACTL_T</a>    <a class="code" href="a00078.html#a11aeead5cc672407bce9c0447137dccf">dmaCtl</a>;
<a name="l00345"></a><a class="code" href="a00078.html#a646781d628db1e89dd218b1df21d7028">00345</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>      <a class="code" href="a00078.html#a646781d628db1e89dd218b1df21d7028">dmaCmd</a>;
<a name="l00346"></a>00346     
<a name="l00347"></a>00347 } <a class="code" href="a00647.html#gaaf4a476f19c5d44c391a5e5dab872e9b" title="Gsn FlashIf Config structure.">GSN_FLASHIF_CFG_T</a>;
<a name="l00348"></a>00348 
<a name="l00358"></a><a class="code" href="a00079.html">00358</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="a00079.html" title="Gsn FlashIf Context.">GSN_FLASHIF_CTX_S</a>
<a name="l00359"></a>00359 {
<a name="l00360"></a><a class="code" href="a00079.html#ab58f2afb00bb6804eef213b944f73ad6">00360</a>     <a class="code" href="a00078.html" title="Gsn FlashIf Config structure.">GSN_FLASHIF_CFG_T</a> <a class="code" href="a00079.html#ab58f2afb00bb6804eef213b944f73ad6">flashIfCfg</a>;
<a name="l00361"></a>00361     
<a name="l00362"></a><a class="code" href="a00079.html#a8586d6383a0c3353fb572f07d6ef7d87">00362</a>     <a class="code" href="a00628.html#gae997291afc7166c897f459023e0154ad" title="GSN OSAL Mutex type. type definition for Mutex.">GSN_OSAL_MUTEX_T</a> <a class="code" href="a00079.html#a8586d6383a0c3353fb572f07d6ef7d87">mutex</a>;
<a name="l00363"></a>00363     
<a name="l00364"></a>00364 } <a class="code" href="a00647.html#gacef88670392e2c2c8f6cc45eab1ad658" title="Gsn FlashIf Context.">GSN_FLASHIF_CTX_T</a>;
<a name="l00365"></a>00365 
<a name="l00366"></a>00366 
<a name="l00367"></a>00367 <span class="comment">/*</span>
<a name="l00368"></a>00368 <span class="comment"> * Flash related definitions </span>
<a name="l00369"></a>00369 <span class="comment"> */</span>
<a name="l00370"></a>00370 
<a name="l00371"></a>00371 <span class="comment">/* Flash instruction definitions */</span>
<a name="l00372"></a><a class="code" href="a00501.html#a34322cbcb7fccb290f6f66cfae69df35">00372</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_WREN          0x06    </span><span class="comment">/* write enable */</span>
<a name="l00373"></a><a class="code" href="a00501.html#ad413125ceeb0878fad9e5436ef6d515e">00373</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_WRDI          0x04    </span><span class="comment">/* write disable */</span>
<a name="l00374"></a><a class="code" href="a00501.html#a97b8d28c1e49792581b7d20cbeb3b9cc">00374</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_RDID          0x9F    </span><span class="comment">/* read identification */</span>
<a name="l00375"></a><a class="code" href="a00501.html#a8cd0d8cabe6736a2e99c2186c853a39f">00375</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_RDSR          0x05    </span><span class="comment">/* read status register */</span>
<a name="l00376"></a><a class="code" href="a00501.html#ab03bcf572199fc61a6f64a7446961708">00376</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_WRSR          0x01    </span><span class="comment">/* write status register */</span>
<a name="l00377"></a><a class="code" href="a00501.html#a79c1ea37a5d7bb3e038e7d67837c64ee">00377</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_READ          0x03    </span><span class="comment">/* read data bytes */</span>
<a name="l00378"></a><a class="code" href="a00501.html#a17279ad9c99a8da3f12b5db340c8108c">00378</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_FAST_READ     0x0B    </span><span class="comment">/* read data bytes at higher speed */</span>
<a name="l00379"></a><a class="code" href="a00501.html#a2a496e4eb4b67f9cc17856bd0d4e2cfe">00379</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_DUAL_FAST_READ 0x3B    </span><span class="comment">/* read data bytes at dual fast speed */</span>
<a name="l00380"></a><a class="code" href="a00501.html#a8b471319c08ce9bd14a9fa69536845e9">00380</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_QUAD_FAST_READ 0x6B    </span><span class="comment">/* read data bytes at quad fast speed */</span>
<a name="l00381"></a><a class="code" href="a00501.html#a7203fc69dc352828cd9c233bfa927790">00381</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_QUADIO_FAST_READ 0xEB    </span><span class="comment">/* read data bytes at quad IO fast speed */</span>
<a name="l00382"></a><a class="code" href="a00501.html#a1db4dc7ecffb9be35ce103ae53585c45">00382</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_PP            0x02    </span><span class="comment">/* page program */</span>
<a name="l00383"></a><a class="code" href="a00501.html#af4275dba6f24912447b7129827a5d8bb">00383</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_DUAL_FAST_PP  0xA2    </span><span class="comment">/* Dual Input fast page program */</span>
<a name="l00384"></a><a class="code" href="a00501.html#a274fa8a403899c45566125a6feadc764">00384</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_QUAD_FAST_PP  0x32    </span><span class="comment">/* Quad Input fast page program */</span>
<a name="l00385"></a><a class="code" href="a00501.html#a0c24b2e54b8c103b6a101b70c34de782">00385</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_SE            0xD8    </span><span class="comment">/* sector erase */</span>
<a name="l00386"></a><a class="code" href="a00501.html#ae96a29a0882c74eb23ccec5f8bacd7e0">00386</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_SSE           0x20    </span><span class="comment">/* sector erase */</span>
<a name="l00387"></a><a class="code" href="a00501.html#ab7fd0cfaf7e0dc856a389a06650cab92">00387</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_BE            0xC7    </span><span class="comment">/* bulk erase */</span>
<a name="l00388"></a><a class="code" href="a00501.html#aab2968a7a313ab5fb8eb33a9819e90ea">00388</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_VOLCFG        0x81    </span><span class="comment">/* Non volatile config register */</span>
<a name="l00389"></a><a class="code" href="a00501.html#a99d00ac36ec9a0a644f5e86b4e9cbf60">00389</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_DP            0xB9    </span><span class="comment">/* deep power down */</span>
<a name="l00390"></a><a class="code" href="a00501.html#af16953f77ced6efee096609e6d22201d">00390</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_RES           0xAB    </span><span class="comment">/* release from power down */</span>
<a name="l00391"></a><a class="code" href="a00501.html#aac5384128253000bd94033b0ecb54b8d">00391</a> <span class="preprocessor">#define GSN_FLASHIF_FLASH_HPM_RESET     0xFF    </span><span class="comment">/* reset high perf mode */</span>
<a name="l00392"></a>00392 
<a name="l00393"></a>00393 
<a name="l00403"></a><a class="code" href="a00081.html">00403</a> <span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="a00081.html" title="Flash Status Register structure.">GSN_FLASHIF_FLASH_STATUS_REG_S</a>
<a name="l00404"></a>00404 {
<a name="l00405"></a><a class="code" href="a00081.html#ab25d8b2ededb98f711b58b9a51b4c745">00405</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>   <a class="code" href="a00081.html#ab25d8b2ededb98f711b58b9a51b4c745">wip</a>     : 1;
<a name="l00406"></a><a class="code" href="a00081.html#a9373c12ea65b0c6a95c219ecd87449ce">00406</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>   <a class="code" href="a00081.html#a9373c12ea65b0c6a95c219ecd87449ce">wel</a>     : 1;
<a name="l00407"></a><a class="code" href="a00081.html#a631ad041e514005f49539055368653b2">00407</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>   <a class="code" href="a00081.html#a631ad041e514005f49539055368653b2">bp</a>      : 3;    
<a name="l00408"></a><a class="code" href="a00081.html#a107dfcf188ce3d240bed82234eed974b">00408</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>   <a class="code" href="a00081.html#a107dfcf188ce3d240bed82234eed974b">bottom</a>  : 1;    
<a name="l00409"></a><a class="code" href="a00081.html#a2c3ace150ddcb10d297a6d30b67d6330">00409</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>   <a class="code" href="a00081.html#a2c3ace150ddcb10d297a6d30b67d6330">unused</a>  : 1;
<a name="l00410"></a><a class="code" href="a00081.html#a9fea0ad880f97176ec08d9806a049939">00410</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>   <a class="code" href="a00081.html#a9fea0ad880f97176ec08d9806a049939">srwd</a>    : 1;
<a name="l00411"></a><a class="code" href="a00081.html#a341b309519da31020dfc9a91cc114e0e">00411</a>     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>   <a class="code" href="a00081.html#a341b309519da31020dfc9a91cc114e0e">reserved</a>:24;
<a name="l00412"></a>00412     
<a name="l00413"></a>00413 } <a class="code" href="a00647.html#ga817ad96ff2f6956f431999227f67c3ca" title="Flash Status Register structure.">GSN_FLASHIF_FLASH_STATUS_REG_T</a>;
<a name="l00414"></a>00414 
<a name="l00415"></a>00415 
<a name="l00416"></a>00416 
<a name="l00417"></a>00417 
<a name="l00418"></a>00418 <span class="comment">/*****************************************************************************</span>
<a name="l00419"></a>00419 <span class="comment"> * Public Variables</span>
<a name="l00420"></a>00420 <span class="comment"> ****************************************************************************/</span>
<a name="l00421"></a>00421 
<a name="l00422"></a>00422 
<a name="l00423"></a>00423 
<a name="l00424"></a>00424 
<a name="l00425"></a>00425 
<a name="l00426"></a>00426 <span class="comment">/*****************************************************************************</span>
<a name="l00427"></a>00427 <span class="comment"> * Public functions</span>
<a name="l00428"></a>00428 <span class="comment"> ****************************************************************************/</span>
<a name="l00429"></a>00429 
<a name="l00430"></a>00430 <span class="comment">/* </span>
<a name="l00431"></a>00431 <span class="comment"> * Flash If functions </span>
<a name="l00432"></a>00432 <span class="comment"> */</span>
<a name="l00433"></a>00433 
<a name="l00442"></a>00442 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00443"></a><a class="code" href="a00647.html#ga0e52d153a54a5e099ea53b4ab2ba02bc">00443</a> <a class="code" href="a00647.html#ga0e52d153a54a5e099ea53b4ab2ba02bc" title="Wait for FlashIf Pio Tx fifo empty.">GsnFlashIf_PioTxFifoEmptyWait</a>()
<a name="l00444"></a>00444 {
<a name="l00445"></a>00445     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> status, i;
<a name="l00446"></a>00446 
<a name="l00447"></a>00447     status = <a class="code" href="a00551.html#a571de867a2280388dd46149285e5e87f">FLASHIF_PIO_TXFIFO_EMPTY_GET</a>(<a class="code" href="a00552.html#aad1373abc9f9c93f8762d989ddad64d8">FLASHIF</a>);
<a name="l00448"></a>00448     <span class="keywordflow">while</span> (status == 0)
<a name="l00449"></a>00449     {
<a name="l00450"></a>00450         <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="a00501.html#afbf57cb7ab68e072618c64e3f5710edc">GSN_FLASHIF_DELAY</a>; i++);
<a name="l00451"></a>00451         status = <a class="code" href="a00551.html#a571de867a2280388dd46149285e5e87f">FLASHIF_PIO_TXFIFO_EMPTY_GET</a>(<a class="code" href="a00552.html#aad1373abc9f9c93f8762d989ddad64d8">FLASHIF</a>);
<a name="l00452"></a>00452     }
<a name="l00453"></a>00453 }
<a name="l00454"></a>00454 
<a name="l00463"></a>00463 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00464"></a><a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f">00464</a> <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(<a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> data)
<a name="l00465"></a>00465 {
<a name="l00466"></a>00466     <a class="code" href="a00647.html#ga0e52d153a54a5e099ea53b4ab2ba02bc" title="Wait for FlashIf Pio Tx fifo empty.">GsnFlashIf_PioTxFifoEmptyWait</a>();
<a name="l00467"></a>00467     
<a name="l00468"></a>00468     <a class="code" href="a00551.html#a42e4e34b3ade7887b46be7d86d9ab5f6">FLASHIF_PIO_TXFIFO_SET</a>(<a class="code" href="a00552.html#aad1373abc9f9c93f8762d989ddad64d8">FLASHIF</a>, data);
<a name="l00469"></a>00469 }
<a name="l00470"></a>00470 
<a name="l00478"></a>00478 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00479"></a><a class="code" href="a00647.html#ga035c5d3ec64ab8e86cacf6cd39762303">00479</a> <a class="code" href="a00647.html#ga035c5d3ec64ab8e86cacf6cd39762303" title="Wait for FlashIf Pio Rx fifo Data.">GsnFlashIf_PioRxFifoDataWait</a>()
<a name="l00480"></a>00480 {
<a name="l00481"></a>00481     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> status, i;
<a name="l00482"></a>00482 
<a name="l00483"></a>00483     status = <a class="code" href="a00551.html#a442cb0cc2cbc9808ab60b1355825416d">FLASHIF_PIO_RXFIFO_EMPTY_GET</a>(<a class="code" href="a00552.html#aad1373abc9f9c93f8762d989ddad64d8">FLASHIF</a>);
<a name="l00484"></a>00484     <span class="keywordflow">while</span> (status == 1)
<a name="l00485"></a>00485     {
<a name="l00486"></a>00486         <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="a00501.html#afbf57cb7ab68e072618c64e3f5710edc">GSN_FLASHIF_DELAY</a>; i++);
<a name="l00487"></a>00487         status = <a class="code" href="a00551.html#a442cb0cc2cbc9808ab60b1355825416d">FLASHIF_PIO_RXFIFO_EMPTY_GET</a>(<a class="code" href="a00552.html#aad1373abc9f9c93f8762d989ddad64d8">FLASHIF</a>);
<a name="l00488"></a>00488     }
<a name="l00489"></a>00489 }
<a name="l00490"></a>00490 
<a name="l00498"></a>00498 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>
<a name="l00499"></a><a class="code" href="a00647.html#ga3c41c43e8ea5c81f7c5307820685fdaf">00499</a> <a class="code" href="a00647.html#ga3c41c43e8ea5c81f7c5307820685fdaf" title="Read FlashIf Pio Rx fifo Data.">GsnFlashIf_PioRxFifoRead</a>()
<a name="l00500"></a>00500 {
<a name="l00501"></a>00501     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> data;
<a name="l00502"></a>00502 
<a name="l00503"></a>00503     <a class="code" href="a00647.html#ga035c5d3ec64ab8e86cacf6cd39762303" title="Wait for FlashIf Pio Rx fifo Data.">GsnFlashIf_PioRxFifoDataWait</a>();
<a name="l00504"></a>00504     
<a name="l00505"></a>00505     data = <a class="code" href="a00551.html#ab5c1686fd859e57e7bdbc1d73712a880">FLASHIF_PIO_RXFIFO_GET</a>(<a class="code" href="a00552.html#aad1373abc9f9c93f8762d989ddad64d8">FLASHIF</a>);
<a name="l00506"></a>00506 
<a name="l00507"></a>00507     <span class="keywordflow">return</span> data;
<a name="l00508"></a>00508 }
<a name="l00509"></a>00509 
<a name="l00518"></a>00518 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00519"></a><a class="code" href="a00647.html#ga2e7a4bf76eb4e6da69d976bd9337a863">00519</a> <a class="code" href="a00647.html#ga2e7a4bf76eb4e6da69d976bd9337a863" title="FlashIf Status Idle wait.">GsnFlashIf_StatusIdleWait</a>()
<a name="l00520"></a>00520 {
<a name="l00521"></a>00521     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> status, i;
<a name="l00522"></a>00522 
<a name="l00523"></a>00523     status = <a class="code" href="a00551.html#a6c6c045c0556c7d2cbc545c4cab88783">FLASHIF_ACTIVE_GET</a>(<a class="code" href="a00552.html#aad1373abc9f9c93f8762d989ddad64d8">FLASHIF</a>);
<a name="l00524"></a>00524     <span class="keywordflow">while</span> (status == 1)
<a name="l00525"></a>00525     {
<a name="l00526"></a>00526         <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="a00501.html#afbf57cb7ab68e072618c64e3f5710edc">GSN_FLASHIF_DELAY</a>; i++);
<a name="l00527"></a>00527         status = <a class="code" href="a00551.html#a6c6c045c0556c7d2cbc545c4cab88783">FLASHIF_ACTIVE_GET</a>(<a class="code" href="a00552.html#aad1373abc9f9c93f8762d989ddad64d8">FLASHIF</a>);
<a name="l00528"></a>00528     }
<a name="l00529"></a>00529 }
<a name="l00530"></a>00530 
<a name="l00538"></a>00538 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00539"></a><a class="code" href="a00647.html#ga5acfd4e90824451ba8ac4ec7f2aef58e">00539</a> <a class="code" href="a00647.html#ga5acfd4e90824451ba8ac4ec7f2aef58e" title="FlashIf Pio Request.">GsnFlashIf_PioReq</a>()
<a name="l00540"></a>00540 {
<a name="l00541"></a>00541     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> gnt;
<a name="l00542"></a>00542     
<a name="l00543"></a>00543     <a class="code" href="a00551.html#a6681d5e0b8a113bcbf260b4f3bd123e4">FLASHIF_PIO_REQ_SET</a>(<a class="code" href="a00552.html#aad1373abc9f9c93f8762d989ddad64d8">FLASHIF</a>, <a class="code" href="a00552.html#a31d3454786e7f96216005e708111629d">FLASHIF_PIO_REQ_F_BITMASK</a>);
<a name="l00544"></a>00544 
<a name="l00545"></a>00545     <span class="comment">/* poll for grant */</span>
<a name="l00546"></a>00546     <span class="keywordflow">do</span>
<a name="l00547"></a>00547     {
<a name="l00548"></a>00548         gnt = <a class="code" href="a00551.html#a703eab65536867ceb7abafbc5ca386a4">FLASHIF_PIO_GNT_F_GET</a>(<a class="code" href="a00552.html#aad1373abc9f9c93f8762d989ddad64d8">FLASHIF</a>);
<a name="l00549"></a>00549     } <span class="keywordflow">while</span> (gnt == 0);
<a name="l00550"></a>00550 }
<a name="l00551"></a>00551 
<a name="l00559"></a>00559 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00560"></a><a class="code" href="a00647.html#gafdff247602c68652a230d5335f34f519">00560</a> <a class="code" href="a00647.html#gafdff247602c68652a230d5335f34f519" title="FlashIf Pio Release.">GsnFlashIf_PioRelease</a>()
<a name="l00561"></a>00561 {
<a name="l00562"></a>00562     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> gnt;
<a name="l00563"></a>00563 
<a name="l00564"></a>00564     <a class="code" href="a00551.html#a6681d5e0b8a113bcbf260b4f3bd123e4">FLASHIF_PIO_REQ_SET</a>(<a class="code" href="a00552.html#aad1373abc9f9c93f8762d989ddad64d8">FLASHIF</a>, <a class="code" href="a00552.html#a6c1873fdecff13797720b9ddcf48b2f2">FLASHIF_PIO_REQ_F_INIT</a>);
<a name="l00565"></a>00565     <span class="comment">/* poll for grant */</span>
<a name="l00566"></a>00566     <span class="keywordflow">do</span>
<a name="l00567"></a>00567     {
<a name="l00568"></a>00568         gnt = <a class="code" href="a00551.html#a703eab65536867ceb7abafbc5ca386a4">FLASHIF_PIO_GNT_F_GET</a>(<a class="code" href="a00552.html#aad1373abc9f9c93f8762d989ddad64d8">FLASHIF</a>);
<a name="l00569"></a>00569     } <span class="keywordflow">while</span> (gnt == 1);
<a name="l00570"></a>00570 }
<a name="l00571"></a>00571 
<a name="l00572"></a>00572 
<a name="l00573"></a>00573 <span class="comment">/* </span>
<a name="l00574"></a>00574 <span class="comment"> * Flash operations </span>
<a name="l00575"></a>00575 <span class="comment"> */</span>
<a name="l00576"></a>00576 
<a name="l00584"></a>00584 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>
<a name="l00585"></a><a class="code" href="a00647.html#ga9bd33077456561b3a74960e3b59fd3a1">00585</a> <a class="code" href="a00647.html#ga9bd33077456561b3a74960e3b59fd3a1" title="FlashIf Flash Id Read.">GsnFlashIf_FlashIdRead</a>()
<a name="l00586"></a>00586 {
<a name="l00587"></a>00587     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> data;
<a name="l00588"></a>00588 
<a name="l00589"></a>00589     <span class="comment">/* write control word */</span>
<a name="l00590"></a>00590     data = <a class="code" href="a00501.html#a48db0a1a6487d75cc26e47b6ed5aa530">GSN_FLASHIF_FLASH_REG_READ_CTL_WORD</a>;
<a name="l00591"></a>00591     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00592"></a>00592 
<a name="l00593"></a>00593     <span class="comment">/* write data transfer length - 3 bytes */</span>
<a name="l00594"></a>00594     data = 3;
<a name="l00595"></a>00595     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00596"></a>00596 
<a name="l00597"></a>00597     <span class="comment">/* write flash command - read ID register */</span>
<a name="l00598"></a>00598     data = <a class="code" href="a00501.html#a97b8d28c1e49792581b7d20cbeb3b9cc">GSN_FLASHIF_FLASH_RDID</a>;
<a name="l00599"></a>00599     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00600"></a>00600 
<a name="l00601"></a>00601     data = <a class="code" href="a00647.html#ga3c41c43e8ea5c81f7c5307820685fdaf" title="Read FlashIf Pio Rx fifo Data.">GsnFlashIf_PioRxFifoRead</a>();
<a name="l00602"></a>00602 
<a name="l00603"></a>00603     <span class="keywordflow">return</span> data;
<a name="l00604"></a>00604 }
<a name="l00605"></a>00605 
<a name="l00613"></a>00613 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a>
<a name="l00614"></a><a class="code" href="a00647.html#ga48297488ec4d500970cb6950cae78570">00614</a> <a class="code" href="a00647.html#ga48297488ec4d500970cb6950cae78570" title="FlashIf Flash Status Read.">GsnFlashIf_FlashStatusRead</a>()
<a name="l00615"></a>00615 {
<a name="l00616"></a>00616     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> data;
<a name="l00617"></a>00617     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> statusReg;
<a name="l00618"></a>00618     
<a name="l00619"></a>00619     <span class="comment">/* write control word */</span>
<a name="l00620"></a>00620     data = <a class="code" href="a00501.html#a48db0a1a6487d75cc26e47b6ed5aa530">GSN_FLASHIF_FLASH_REG_READ_CTL_WORD</a>;
<a name="l00621"></a>00621     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00622"></a>00622 
<a name="l00623"></a>00623     <span class="comment">/* write data transfer length - 1 byte register */</span>
<a name="l00624"></a>00624     data = 1;
<a name="l00625"></a>00625     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00626"></a>00626 
<a name="l00627"></a>00627     <span class="comment">/* write flash command - read status register */</span>
<a name="l00628"></a>00628     data = <a class="code" href="a00501.html#a8cd0d8cabe6736a2e99c2186c853a39f">GSN_FLASHIF_FLASH_RDSR</a>;
<a name="l00629"></a>00629     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00630"></a>00630 
<a name="l00631"></a>00631     data = <a class="code" href="a00647.html#ga3c41c43e8ea5c81f7c5307820685fdaf" title="Read FlashIf Pio Rx fifo Data.">GsnFlashIf_PioRxFifoRead</a>();
<a name="l00632"></a>00632     memcpy(&amp;statusReg, &amp;data, <span class="keyword">sizeof</span>(statusReg));
<a name="l00633"></a>00633     
<a name="l00634"></a>00634     <span class="keywordflow">return</span> statusReg;
<a name="l00635"></a>00635     
<a name="l00636"></a>00636 }
<a name="l00637"></a>00637 
<a name="l00645"></a>00645 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00646"></a><a class="code" href="a00647.html#gaa4154e89e9e4a898ea3201fe01399563">00646</a> <a class="code" href="a00647.html#gaa4154e89e9e4a898ea3201fe01399563" title="FlashIf FlashWelBitSetWait.">GsnFlashIf_FlashWelBitSetWait</a>()
<a name="l00647"></a>00647 {
<a name="l00648"></a>00648     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> flashStatusReg;
<a name="l00649"></a>00649 
<a name="l00650"></a>00650     <span class="keywordflow">do</span>
<a name="l00651"></a>00651     {
<a name="l00652"></a>00652         flashStatusReg = <a class="code" href="a00647.html#ga48297488ec4d500970cb6950cae78570" title="FlashIf Flash Status Read.">GsnFlashIf_FlashStatusRead</a>();
<a name="l00653"></a>00653     } <span class="keywordflow">while</span>((flashStatusReg &amp; 0x2) == 0x0);
<a name="l00654"></a>00654 }
<a name="l00655"></a>00655 
<a name="l00663"></a>00663 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00664"></a><a class="code" href="a00647.html#gacbb20c31b55b63691495359dad00ccc6">00664</a> <a class="code" href="a00647.html#gacbb20c31b55b63691495359dad00ccc6" title="FlashIf FlashWelBitClrWait.">GsnFlashIf_FlashWelBitClrWait</a>()
<a name="l00665"></a>00665 {
<a name="l00666"></a>00666     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> flashStatusReg;
<a name="l00667"></a>00667 
<a name="l00668"></a>00668     <span class="keywordflow">do</span>
<a name="l00669"></a>00669     {
<a name="l00670"></a>00670         flashStatusReg = <a class="code" href="a00647.html#ga48297488ec4d500970cb6950cae78570" title="FlashIf Flash Status Read.">GsnFlashIf_FlashStatusRead</a>();
<a name="l00671"></a>00671     } <span class="keywordflow">while</span>((flashStatusReg &amp; 0x2) == 0x2);
<a name="l00672"></a>00672 }
<a name="l00673"></a>00673 
<a name="l00681"></a>00681 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00682"></a><a class="code" href="a00647.html#ga73f637bd9c4acf82825974b750102043">00682</a> <a class="code" href="a00647.html#ga73f637bd9c4acf82825974b750102043" title="FlashIf Flash Write Enable.">GsnFlashIf_FlashWriteEnable</a>()
<a name="l00683"></a>00683 {
<a name="l00684"></a>00684     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> data;
<a name="l00685"></a>00685 
<a name="l00686"></a>00686     <span class="comment">/* write control word */</span>
<a name="l00687"></a>00687     data = <a class="code" href="a00501.html#a33e15dee99ee2bf69a56f4b01787c0c3">GSN_FLASHIF_FLASH_REG_WRITE_CTL_WORD</a>;
<a name="l00688"></a>00688     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00689"></a>00689 
<a name="l00690"></a>00690     <span class="comment">/* write data transfer length - 0 bytes */</span>
<a name="l00691"></a>00691     data = 0;
<a name="l00692"></a>00692     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00693"></a>00693 
<a name="l00694"></a>00694     <span class="comment">/* write flash command - read status register */</span>
<a name="l00695"></a>00695     data = <a class="code" href="a00501.html#a34322cbcb7fccb290f6f66cfae69df35">GSN_FLASHIF_FLASH_WREN</a>;
<a name="l00696"></a>00696     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00697"></a>00697 
<a name="l00698"></a>00698     <span class="comment">/* wait for write enable to take effect */</span>
<a name="l00699"></a>00699     <a class="code" href="a00647.html#gaa4154e89e9e4a898ea3201fe01399563" title="FlashIf FlashWelBitSetWait.">GsnFlashIf_FlashWelBitSetWait</a>();
<a name="l00700"></a>00700 }
<a name="l00701"></a>00701 
<a name="l00709"></a>00709 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00710"></a><a class="code" href="a00647.html#gaa765eb6f46ca5e3787deb574e035a43b">00710</a> <a class="code" href="a00647.html#gaa765eb6f46ca5e3787deb574e035a43b" title="FlashIf Flash Write Disable.">GsnFlashIf_FlashWriteDisable</a>()
<a name="l00711"></a>00711 {
<a name="l00712"></a>00712     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> data;
<a name="l00713"></a>00713 
<a name="l00714"></a>00714     <span class="comment">/* write control word */</span>
<a name="l00715"></a>00715     data = <a class="code" href="a00501.html#a33e15dee99ee2bf69a56f4b01787c0c3">GSN_FLASHIF_FLASH_REG_WRITE_CTL_WORD</a>;
<a name="l00716"></a>00716     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00717"></a>00717 
<a name="l00718"></a>00718     <span class="comment">/* write data transfer length - 0 bytes */</span>
<a name="l00719"></a>00719     data = 0;
<a name="l00720"></a>00720     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00721"></a>00721 
<a name="l00722"></a>00722     <span class="comment">/* write flash command - read status register */</span>
<a name="l00723"></a>00723     data = <a class="code" href="a00501.html#ad413125ceeb0878fad9e5436ef6d515e">GSN_FLASHIF_FLASH_WRDI</a>;
<a name="l00724"></a>00724     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00725"></a>00725 
<a name="l00726"></a>00726     <span class="comment">/* wait for write disable to take effect */</span>
<a name="l00727"></a>00727     <a class="code" href="a00647.html#gacbb20c31b55b63691495359dad00ccc6" title="FlashIf FlashWelBitClrWait.">GsnFlashIf_FlashWelBitClrWait</a>();
<a name="l00728"></a>00728 }
<a name="l00729"></a>00729 
<a name="l00730"></a>00730 
<a name="l00741"></a>00741 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00742"></a><a class="code" href="a00647.html#ga3a7eea5fe3bb3b96a573037b355c0c0e">00742</a> <a class="code" href="a00647.html#ga3a7eea5fe3bb3b96a573037b355c0c0e" title="FlashIf Flash status Write.">GsnFlashIf_FlashStatusWrite</a>(<a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> val, <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> numBytes)
<a name="l00743"></a>00743 {
<a name="l00744"></a>00744     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> data;
<a name="l00745"></a>00745 
<a name="l00746"></a>00746     <span class="comment">/* enable write for status register write */</span>
<a name="l00747"></a>00747     <a class="code" href="a00647.html#ga73f637bd9c4acf82825974b750102043" title="FlashIf Flash Write Enable.">GsnFlashIf_FlashWriteEnable</a>();
<a name="l00748"></a>00748     
<a name="l00749"></a>00749     <span class="comment">/* write control word */</span>
<a name="l00750"></a>00750     data = <a class="code" href="a00501.html#a33e15dee99ee2bf69a56f4b01787c0c3">GSN_FLASHIF_FLASH_REG_WRITE_CTL_WORD</a>;
<a name="l00751"></a>00751     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00752"></a>00752 
<a name="l00753"></a>00753     <span class="comment">/* write data transfer length - 1 byte status */</span>
<a name="l00754"></a>00754     data = numBytes;
<a name="l00755"></a>00755     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00756"></a>00756 
<a name="l00757"></a>00757     <span class="comment">/* write flash command - read status register */</span>
<a name="l00758"></a>00758     data = <a class="code" href="a00501.html#ab03bcf572199fc61a6f64a7446961708">GSN_FLASHIF_FLASH_WRSR</a>;
<a name="l00759"></a>00759     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00760"></a>00760 
<a name="l00761"></a>00761     data = val;
<a name="l00762"></a>00762     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00763"></a>00763 
<a name="l00764"></a>00764     <span class="comment">/* wait for status register write completion */</span>
<a name="l00765"></a>00765     <a class="code" href="a00647.html#gacbb20c31b55b63691495359dad00ccc6" title="FlashIf FlashWelBitClrWait.">GsnFlashIf_FlashWelBitClrWait</a>();
<a name="l00766"></a>00766 
<a name="l00767"></a>00767 }
<a name="l00768"></a>00768 
<a name="l00769"></a>00769 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00770"></a><a class="code" href="a00501.html#a7d415448cd70cacfddca202e24c4bb23">00770</a> <a class="code" href="a00501.html#a7d415448cd70cacfddca202e24c4bb23">GsnFlashIf_HpmReset</a>()
<a name="l00771"></a>00771 {
<a name="l00772"></a>00772     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> data;
<a name="l00773"></a>00773     
<a name="l00774"></a>00774     <span class="comment">/* write control word */</span>
<a name="l00775"></a>00775     data = <a class="code" href="a00501.html#a33e15dee99ee2bf69a56f4b01787c0c3">GSN_FLASHIF_FLASH_REG_WRITE_CTL_WORD</a>;
<a name="l00776"></a>00776     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00777"></a>00777 
<a name="l00778"></a>00778     <span class="comment">/* write data transfer length - 0 bytes */</span>
<a name="l00779"></a>00779     data = 0;
<a name="l00780"></a>00780     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00781"></a>00781 
<a name="l00782"></a>00782     <span class="comment">/* write flash command - HPM reset */</span>
<a name="l00783"></a>00783     data = <a class="code" href="a00501.html#aac5384128253000bd94033b0ecb54b8d">GSN_FLASHIF_FLASH_HPM_RESET</a>;
<a name="l00784"></a>00784     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00785"></a>00785 }
<a name="l00786"></a>00786 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a2eb6f9e0395b47b8d5e3eeae4fe0c116">INLINE</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00787"></a><a class="code" href="a00501.html#a388105cd1800d0506f951250cf7354e9">00787</a> <a class="code" href="a00501.html#a388105cd1800d0506f951250cf7354e9">GsnFlashIf_DeepPowerDownRelease</a>()
<a name="l00788"></a>00788 {
<a name="l00789"></a>00789     <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> data;
<a name="l00790"></a>00790     
<a name="l00791"></a>00791     <span class="comment">/* write control word */</span>
<a name="l00792"></a>00792     data = <a class="code" href="a00501.html#a82c4245515ddf32d66c496d5c01545c8">GSN_FLASHIF_FLASH_DEEPPWRDOWNREL_CTL_WORD</a>;
<a name="l00793"></a>00793     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00794"></a>00794 
<a name="l00795"></a>00795     <span class="comment">/* write data transfer length - 0 bytes */</span>
<a name="l00796"></a>00796     data = 0;
<a name="l00797"></a>00797     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00798"></a>00798 
<a name="l00799"></a>00799     <span class="comment">/* write flash command - deep power down release */</span>
<a name="l00800"></a>00800     data = <a class="code" href="a00501.html#af16953f77ced6efee096609e6d22201d">GSN_FLASHIF_FLASH_RES</a>;
<a name="l00801"></a>00801     <a class="code" href="a00647.html#ga31cfba744b7133b256ba57713dc14e0f" title="FlashIf Pio Tx fifo write.">GsnFlashIf_PioTxFifoWrite</a>(data);
<a name="l00802"></a>00802 
<a name="l00803"></a>00803     <span class="comment">/* read 1 byte data electronic ID */</span>
<a name="l00804"></a>00804     <span class="comment">//data = GsnFlashIf_PioRxFifoRead();</span>
<a name="l00805"></a>00805 }
<a name="l00806"></a>00806 
<a name="l00814"></a>00814 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00815"></a>00815 <a class="code" href="a00647.html#gaca0cbeb5224273baff05b9bb8f18f28f" title="FlashIf Init.">GsnFlashIf_Init</a>();
<a name="l00816"></a>00816 
<a name="l00824"></a>00824 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00825"></a>00825 <a class="code" href="a00647.html#ga2e45a3d239aacf23775f49d45451cb39" title="FlashIf open.">GsnFlashIf_Open</a>();
<a name="l00826"></a>00826 
<a name="l00834"></a>00834 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00835"></a>00835 <a class="code" href="a00647.html#ga35472b38e5592af65b2c3a043f12804a" title="FlashIf Close.">GsnFlashIf_Close</a>();
<a name="l00836"></a>00836 
<a name="l00847"></a>00847 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> UINT
<a name="l00848"></a>00848 <a class="code" href="a00647.html#ga9984f334abe4f56660d9c05462bfd0cf" title="FlashIf Flash Register Write.">GsnFlashIf_FlashRegWrite</a>(<a class="code" href="a00660.html#gab27e9918b538ce9d8ca692479b375b6a">UINT8</a> cmd, <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> val, <a class="code" href="a00660.html#ga1f04022c0a182c51c059438790ea138c">BOOL</a> blocking);
<a name="l00849"></a>00849 
<a name="l00860"></a>00860 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> UINT
<a name="l00861"></a>00861 <a class="code" href="a00647.html#gaca1b3713dbed6c6ebc74ffd2c690aeea" title="FlashIf Flash Erase.">GsnFlashIf_FlashErase</a>(<a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> addr, <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> len, <a class="code" href="a00660.html#ga1f04022c0a182c51c059438790ea138c">BOOL</a> blocking);
<a name="l00862"></a>00862 
<a name="l00870"></a>00870 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00871"></a>00871 <a class="code" href="a00647.html#gac89f308125de8d40656d8a9e77decc7e" title="FlashIf Flash Bulk Erase.">GsnFlashIf_FlashBulkErase</a>();
<a name="l00872"></a>00872 
<a name="l00882"></a>00882 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> UINT
<a name="l00883"></a>00883 <a class="code" href="a00647.html#ga204ff2b722664894838958d449b76f0d" title="FlashIf Flash Sector Erase.">GsnFlashIf_FlashSectorErase</a>(<a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> addr, <a class="code" href="a00660.html#ga1f04022c0a182c51c059438790ea138c">BOOL</a> blocking);
<a name="l00884"></a>00884 
<a name="l00894"></a>00894 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> UINT
<a name="l00895"></a>00895 <a class="code" href="a00647.html#gaba565cfc9046eef09ab9934e687f6044" title="FlashIf Flash SubSector Erase.">GsnFlashIf_FlashSubsectorErase</a>(<a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> addr, <a class="code" href="a00660.html#ga1f04022c0a182c51c059438790ea138c">BOOL</a> blocking);
<a name="l00896"></a>00896 
<a name="l00908"></a>00908 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> UINT
<a name="l00909"></a>00909 <a class="code" href="a00647.html#ga3998be9c292aba1e22142a3987b5f5c8" title="FlashIf Flash Program.">GsnFlashIf_FlashProgram</a>(<a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> addr, <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> len, <a class="code" href="a00660.html#gab27e9918b538ce9d8ca692479b375b6a">UINT8</a> *pData, <a class="code" href="a00660.html#ga1f04022c0a182c51c059438790ea138c">BOOL</a> blocking);
<a name="l00910"></a>00910  
<a name="l00921"></a>00921 <a class="code" href="a00481.html#a5e151c615eda34903514212f05a5ccf8">PRIVATE</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00922"></a>00922 <a class="code" href="a00647.html#ga0df0295551b38ea8a75b6bbfa748cde4" title="FlashIf Flash Page Program.">GsnFlashIf_FlashPageProgram</a>(<a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> addr, <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> len, <a class="code" href="a00660.html#gab27e9918b538ce9d8ca692479b375b6a">UINT8</a> *pData);
<a name="l00923"></a>00923 
<a name="l00935"></a>00935 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> UINT
<a name="l00936"></a>00936 <a class="code" href="a00647.html#ga3ed4044178d723647df832021c3a609d" title="FlashIf Flash Read.">GsnFlashIf_FlashRead</a>(<a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> addr, <a class="code" href="a00660.html#gae1e6edbbc26d6fbc71a90190d0266018">UINT32</a> len, <a class="code" href="a00660.html#gab27e9918b538ce9d8ca692479b375b6a">UINT8</a> *pData, <a class="code" href="a00660.html#ga1f04022c0a182c51c059438790ea138c">BOOL</a> blocking);
<a name="l00937"></a>00937 
<a name="l00938"></a>00938 
<a name="l00946"></a>00946 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00481.html#a7f319bfc2492a2136964194204e7a8cf">VOID</a>
<a name="l00947"></a>00947 <a class="code" href="a00647.html#ga0fdd893814aead99338aea969b2cfc0a" title="FlashIf Flash PowerDown.">GsnFlashIf_FlashPowerDown</a>();
<a name="l00948"></a>00948 
<a name="l00949"></a>00949 <a class="code" href="a00481.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="a00660.html#ga1f04022c0a182c51c059438790ea138c">BOOL</a>
<a name="l00950"></a>00950 <a class="code" href="a00501.html#aa37d5775a1265f01dfeb546ec298075b">GsnFlashIf_FlashCheckAndConfigure</a>();
<a name="l00951"></a>00951 
<a name="l00952"></a>00952 <span class="preprocessor">#ifdef __cplusplus</span>
<a name="l00953"></a>00953 <span class="preprocessor"></span>}
<a name="l00954"></a>00954 <span class="preprocessor">#endif</span>
<a name="l00955"></a>00955 <span class="preprocessor"></span><span class="preprocessor">#endif </span><span class="comment">/* _GSN_FLASH_IF_H_ */</span>
</pre></div></div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="a00501.html">gsn_flash_if.h</a>      </li>
      <li class="footer">Generated on Tue May 13 2014 11:11:47 for GEPS 5.1.0 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.4 </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


</body>
</html>
